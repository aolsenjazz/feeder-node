!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FeederNode=t():e.FeederNode=t()}(this,(()=>(()=>{var e={756:function(e,t,n){e.exports=(()=>{var e={524:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConverterType:()=>s,create:()=>u});var r=n(395),o=n.n(r),a=1008e3,i=function(){function e(e,t,n,r,o){this.module=e,this._converterType=t,this._nChannels=n,this._inputSampleRate=r,this._outputSampleRate=o,this.ratio=o/r,this.isDestroyed=!1,e.init(n,t,r,o),this.sourceArray=e.sourceArray(a),this.targetArray=e.targetArray(a)}return e.prototype.simple=function(e){return this._resample(this.module.simple,e)},e.prototype.full=function(e,t){return void 0===t&&(t=null),this._resample(this.module.full,e,t)},e.prototype.destroy=function(){!0===this.isDestroyed?console.warn("destroy() has already been called on this instance"):(this.module.destroy(),this.isDestroyed=!0)},Object.defineProperty(e.prototype,"inputSampleRate",{get:function(){return this._inputSampleRate},set:function(e){this._inputSampleRate=e,this.module.destroy(),this.module.init(this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outputSampleRate",{get:function(){return this._outputSampleRate},set:function(e){this._outputSampleRate=e,this.module.destroy(),this.module.init(this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nChannels",{get:function(){return this._nChannels},set:function(e){this._nChannels=e,this.module.destroy(),this.module.init(this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"converterType",{get:function(){return this._converterType},set:function(e){this._converterType=e,this.module.destroy(),this.module.init(this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)},enumerable:!1,configurable:!0}),e.prototype._chunkAndResample=function(e){for(var t=0,n=[],r=function(e,t,n){for(var r=0,o=[],a=0;a<e.length;a+=t){var i=Math.min(t,e.length-r),s=new n(e.buffer,r*e.BYTES_PER_ELEMENT,i);r+=t,o.push(s)}return o}(e,this.inputSampleRate/10*this.nChannels,Float32Array),o=0;o<r.length;o++){var a=this._resample(this.module.full,r[o]);t+=a.length,n.push(a)}var i=new Float32Array(t),s=0;for(o=0;o<n.length;o++)for(var u=0;u<n[o].length;u++)i[s++]=n[o][u];return i},e.prototype._resample=function(e,t,n){if(void 0===n&&(n=null),this.inputSampleRate===this.outputSampleRate)return t;if(null!==n&&n.length<this.ratio*t.length)throw"dataOut must be at least ceil(srcRatio * dataIn.length) samples long";return Math.ceil(t.length*this.ratio)>a?this._chunkAndResample(t):(this.sourceArray.set(t),function(e,t,n){void 0===n&&(n=null);for(var r=null===n?new Float32Array(e):n,o=0;o<e;o++)r[o]=t[o];return r}(e(t.length,this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)*this.nChannels,this.targetArray,n))},e}(),s={SRC_SINC_BEST_QUALITY:0,SRC_SINC_MEDIUM_QUALITY:1,SRC_SINC_FASTEST:2,SRC_ZERO_ORDER_HOLD:3,SRC_LINEAR:4};function u(e,t,n,r){var a=void 0===(null==r?void 0:r.converterType)?s.SRC_SINC_FASTEST:null==r?void 0:r.converterType,u=(null==r?void 0:r.wasmPath)||"/libsamplerate.wasm";!function(e,t,n,r){if(void 0===e)throw"nChannels is undefined";if(void 0===t)throw"inputSampleRate is undefined";if(void 0===n)throw"outputSampleRate is undefined";if(e<1||e>128)throw"invalid nChannels submitted";if(t<1||t>192e3)throw"invalid inputSampleRate";if(n<1||n>192e3)throw"invalid outputSampleRate";if(r<s.SRC_SINC_BEST_QUALITY||r>s.SRC_LINEAR)throw"invalid converterType"}(e,t,n,a);var c={locateFile:function(){return u}};return new Promise((function(r,s){o()(c).then((function(o){var s=new i(o,a,e,t,n);r(s)})).catch((function(e){s(e)}))}))}},395:(e,t,n)=>{var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(e){var t,o,a=void 0!==(e=e||{})?e:{};a.ready=new Promise((function(e,n){t=e,o=n}));var i,s={};for(i in a)a.hasOwnProperty(i)&&(s[i]=a[i]);var u=[],c=function(e,t){throw t},l=!1,f=!1,h=!1,d=!1;l="object"==typeof window,f="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,d=!l&&!h&&!f;var p,m,y,v,g="";function w(e){return a.locateFile?a.locateFile(e,g):g+e}h?(g=f?n(622).dirname(g)+"/":__dirname+"/",p=function(e,t){return y||(y=n(747)),v||(v=n(622)),e=v.normalize(e),y.readFileSync(e,t?null:"utf8")},m=function(e){var t=p(e,!0);return t.buffer||(t=new Uint8Array(t)),T(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),u=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Mt))throw e})),process.on("unhandledRejection",he),c=function(e){process.exit(e)},a.inspect=function(){return"[Emscripten Module object]"}):d?("undefined"!=typeof read&&(p=function(e){return read(e)}),m=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(T("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?u=scriptArgs:void 0!==arguments&&(u=arguments),"function"==typeof quit&&(c=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(l||f)&&(f?g=this.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),r&&(g=r),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),a.print||console.log.bind(console);var b,_,A,S=a.printErr||console.warn.bind(console);for(i in s)s.hasOwnProperty(i)&&(a[i]=s[i]);s=null,a.arguments&&(u=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&(c=a.quit),a.wasmBinary&&(b=a.wasmBinary),a.noExitRuntime&&(_=a.noExitRuntime),"object"!=typeof WebAssembly&&he("no native wasm support detected");var C=!1;function T(e,t){e||he("Assertion failed: "+t)}var R="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&R)return R.decode(e.subarray(t,o));for(var a="";t<o;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var u=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}function k(e,t){return e?P(W,e,t):""}function E(e,t,n,r){if(!(r>0))return 0;for(var o=n,a=n+r-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function I(e,t,n){return E(e,W,t,n)}function F(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}var N,x,W,O,M,U,j,B,D,L="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function z(e,t){for(var n=e,r=n>>1,o=r+t/2;!(r>=o)&&M[r];)++r;if((n=r<<1)-e>32&&L)return L.decode(W.subarray(e,n));for(var a="",i=0;!(i>=t/2);++i){var s=O[e+2*i>>1];if(0==s)break;a+=String.fromCharCode(s)}return a}function Y(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,o=(n-=2)<2*e.length?n/2:e.length,a=0;a<o;++a){var i=e.charCodeAt(a);O[t>>1]=i,t+=2}return O[t>>1]=0,t-r}function V(e){return 2*e.length}function H(e,t){for(var n=0,r="";!(n>=t/4);){var o=U[e+4*n>>2];if(0==o)break;if(++n,o>=65536){var a=o-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(o)}return r}function q(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,o=r+n-4,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),U[t>>2]=i,(t+=4)+4>o)break}return U[t>>2]=0,t-r}function $(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function G(e,t){return e%t>0&&(e+=t-e%t),e}function Z(e){N=e,a.HEAP8=x=new Int8Array(e),a.HEAP16=O=new Int16Array(e),a.HEAP32=U=new Int32Array(e),a.HEAPU8=W=new Uint8Array(e),a.HEAPU16=M=new Uint16Array(e),a.HEAPU32=j=new Uint32Array(e),a.HEAPF32=B=new Float32Array(e),a.HEAPF64=D=new Float64Array(e)}a.INITIAL_MEMORY;var Q,X=[],J=[],K=[],ee=[];function te(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)ae(a.preRun.shift());Ae(X)}function ne(){Ae(J)}function re(){Ae(K)}function oe(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)ie(a.postRun.shift());Ae(ee)}function ae(e){X.unshift(e)}function ie(e){ee.unshift(e)}var se=0,ue=null,ce=null;function le(e){se++,a.monitorRunDependencies&&a.monitorRunDependencies(se)}function fe(e){if(se--,a.monitorRunDependencies&&a.monitorRunDependencies(se),0==se&&(null!==ue&&(clearInterval(ue),ue=null),ce)){var t=ce;ce=null,t()}}function he(e){a.onAbort&&a.onAbort(e),S(e+=""),C=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw o(t),t}function de(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}a.preloadedImages={},a.preloadedAudios={};var pe="data:application/octet-stream;base64,";function me(e){return de(e,pe)}var ye="file://";function ve(e){return de(e,ye)}var ge="glue.wasm";function we(e){try{if(e==ge&&b)return new Uint8Array(b);if(m)return m(e);throw"both async and sync fetching of the wasm failed"}catch(e){he(e)}}function be(){return b||!l&&!f||"function"!=typeof fetch||ve(ge)?Promise.resolve().then((function(){return we(ge)})):fetch(ge,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ge+"'";return e.arrayBuffer()})).catch((function(){return we(ge)}))}function _e(){var e={a:Ft};function t(e,t){var n=e.exports;a.asm=n,Z((A=a.asm.q).buffer),Q=a.asm.r,fe()}function n(e){t(e.instance)}function r(t){return be().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){S("failed to asynchronously prepare wasm: "+e),he(e)}))}if(le(),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(e){return S("Module.instantiateWasm callback failed with error: "+e),!1}return(b||"function"!=typeof WebAssembly.instantiateStreaming||me(ge)||ve(ge)||"function"!=typeof fetch?r(n):fetch(ge,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return S("wasm streaming compile failed: "+e),S("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(o),{}}function Ae(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Q.get(n)():Q.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(a)}}function Se(e,t,n,r){he("Assertion failed: "+k(e)+", at: "+[t?k(t):"unknown filename",n,r?k(r):"unknown function"])}function Ce(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Te(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Re=e}me(ge)||(ge=w(ge));var Re=void 0;function Pe(e){for(var t="",n=e;W[n];)t+=Re[W[n++]];return t}var ke={},Ee={},Ie={},Fe=48,Ne=57;function xe(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Fe&&t<=Ne?"_"+e:e}function We(e,t){return e=xe(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Oe(e,t){var n=We(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Me=void 0;function Ue(e){throw new Me(e)}var je=void 0;function Be(e){throw new je(e)}function De(e,t,n){function r(t){var r=n(t);r.length!==e.length&&Be("Mismatched type converter count");for(var o=0;o<e.length;++o)Le(e[o],r[o])}e.forEach((function(e){Ie[e]=t}));var o=new Array(t.length),a=[],i=0;t.forEach((function(e,t){Ee.hasOwnProperty(e)?o[t]=Ee[e]:(a.push(e),ke.hasOwnProperty(e)||(ke[e]=[]),ke[e].push((function(){o[t]=Ee[e],++i===a.length&&r(o)})))})),0===a.length&&r(o)}function Le(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||Ue('type "'+r+'" must have a positive integer typeid pointer'),Ee.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;Ue("Cannot register type '"+r+"' twice")}if(Ee[e]=t,delete Ie[e],ke.hasOwnProperty(e)){var o=ke[e];delete ke[e],o.forEach((function(e){e()}))}}function ze(e,t,n,r,o){var a=Ce(n);Le(e,{name:t=Pe(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:o},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=x;else if(2===n)r=O;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=U}return this.fromWireType(r[e>>a])},destructorFunction:null})}var Ye=[],Ve=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function He(e){e>4&&0==--Ve[e].refcount&&(Ve[e]=void 0,Ye.push(e))}function qe(){for(var e=0,t=5;t<Ve.length;++t)void 0!==Ve[t]&&++e;return e}function $e(){for(var e=5;e<Ve.length;++e)if(void 0!==Ve[e])return Ve[e];return null}function Ge(){a.count_emval_handles=qe,a.get_first_emval=$e}function Ze(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Ye.length?Ye.pop():Ve.length;return Ve[t]={refcount:1,value:e},t}}function Qe(e){return this.fromWireType(j[e>>2])}function Xe(e,t){Le(e,{name:t=Pe(t),fromWireType:function(e){var t=Ve[e].value;return He(e),t},toWireType:function(e,t){return Ze(t)},argPackAdvance:8,readValueFromPointer:Qe,destructorFunction:null})}function Je(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Ke(e,t){switch(t){case 2:return function(e){return this.fromWireType(B[e>>2])};case 3:return function(e){return this.fromWireType(D[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function et(e,t,n){var r=Ce(n);Le(e,{name:t=Pe(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Je(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:Ke(t,r),destructorFunction:null})}function tt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=We(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return o instanceof Object?o:r}function nt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function rt(e,t,n,r,o){var a=t.length;a<2&&Ue("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==t[1]&&null!==n,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",f="";for(u=0;u<a-2;++u)l+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var h="return function "+xe(e)+"("+l+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";s&&(h+="var destructors = [];\n");var d=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[Ue,r,o,nt,t[0],t[1]];for(i&&(h+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<a-2;++u)h+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",p.push("argType"+u),m.push(t[u+2]);if(i&&(f="thisWired"+(f.length>0?", ":"")+f),h+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)h+="runDestructors(destructors);\n";else for(u=i?1:2;u<t.length;++u){var y=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(h+=y+"_dtor("+y+"); // "+t[u].name+"\n",p.push(y+"_dtor"),m.push(t[u].destructorFunction))}return c&&(h+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),h+="}\n",p.push(h),tt(Function,p).apply(null,m)}function ot(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Ue("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function at(e,t,n){a.hasOwnProperty(e)?((void 0===n||void 0!==a[e].overloadTable&&void 0!==a[e].overloadTable[n])&&Ue("Cannot register public name '"+e+"' twice"),ot(a,e,e),a.hasOwnProperty(n)&&Ue("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),a[e].overloadTable[n]=t):(a[e]=t,void 0!==n&&(a[e].numArguments=n))}function it(e,t){for(var n=[],r=0;r<e;r++)n.push(U[(t>>2)+r]);return n}function st(e,t,n){a.hasOwnProperty(e)||Be("Replacing nonexistant public symbol"),void 0!==a[e].overloadTable&&void 0!==n?a[e].overloadTable[n]=t:(a[e]=t,a[e].argCount=n)}function ut(e,t,n){return n&&n.length?a["dynCall_"+e].apply(null,[t].concat(n)):a["dynCall_"+e].call(null,t)}function ct(e,t,n){return-1!=e.indexOf("j")?ut(e,t,n):Q.get(t).apply(null,n)}function lt(e,t){T(e.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var n=[];return function(){n.length=arguments.length;for(var r=0;r<arguments.length;r++)n[r]=arguments[r];return ct(e,t,n)}}function ft(e,t){var n=-1!=(e=Pe(e)).indexOf("j")?lt(e,t):Q.get(t);return"function"!=typeof n&&Ue("unknown function pointer with signature "+e+": "+t),n}var ht=void 0;function dt(e){var t=Ot(e),n=Pe(t);return xt(t),n}function pt(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||Ee[t]||(Ie[t]?Ie[t].forEach(e):(n.push(t),r[t]=!0))})),new ht(e+": "+n.map(dt).join([", "]))}function mt(e,t,n,r,o,a){var i=it(t,n);e=Pe(e),o=ft(r,o),at(e,(function(){pt("Cannot call "+e+" due to unbound types",i)}),t-1),De([],i,(function(n){var r=[n[0],null].concat(n.slice(1));return st(e,rt(e,r,null,o,a),t-1),[]}))}function yt(e,t,n){switch(t){case 0:return n?function(e){return x[e]}:function(e){return W[e]};case 1:return n?function(e){return O[e>>1]}:function(e){return M[e>>1]};case 2:return n?function(e){return U[e>>2]}:function(e){return j[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function vt(e,t,n,r,o){t=Pe(t),-1===o&&(o=4294967295);var a=Ce(n),i=function(e){return e};if(0===r){var s=32-8*n;i=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");Le(e,{name:t,fromWireType:i,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+Je(n)+'" to '+this.name);if(n<r||n>o)throw new TypeError('Passing a number "'+Je(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+o+"]!");return u?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:yt(t,a,0!==r),destructorFunction:null})}function gt(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=j,n=t[e>>=2],o=t[e+1];return new r(N,o,n)}Le(e,{name:n=Pe(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function wt(e,t){var n="std::string"===(t=Pe(t));Le(e,{name:t,fromWireType:function(e){var t,r=j[e>>2];if(n)for(var o=e+4,a=0;a<=r;++a){var i=e+4+a;if(a==r||0==W[i]){var s=k(o,i-o);void 0===t?t=s:(t+=String.fromCharCode(0),t+=s),o=i+1}}else{var u=new Array(r);for(a=0;a<r;++a)u[a]=String.fromCharCode(W[e+4+a]);t=u.join("")}return xt(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"==typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ue("Cannot pass non-string to std::string");var o=(n&&r?function(){return F(t)}:function(){return t.length})(),a=Wt(4+o+1);if(j[a>>2]=o,n&&r)I(t,a+4,o+1);else if(r)for(var i=0;i<o;++i){var s=t.charCodeAt(i);s>255&&(xt(a),Ue("String has UTF-16 code units that do not fit in 8 bits")),W[a+4+i]=s}else for(i=0;i<o;++i)W[a+4+i]=t[i];return null!==e&&e.push(xt,a),a},argPackAdvance:8,readValueFromPointer:Qe,destructorFunction:function(e){xt(e)}})}function bt(e,t,n){var r,o,a,i,s;n=Pe(n),2===t?(r=z,o=Y,i=V,a=function(){return M},s=1):4===t&&(r=H,o=q,i=$,a=function(){return j},s=2),Le(e,{name:n,fromWireType:function(e){for(var n,o=j[e>>2],i=a(),u=e+4,c=0;c<=o;++c){var l=e+4+c*t;if(c==o||0==i[l>>s]){var f=r(u,l-u);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),u=l+t}}return xt(e),n},toWireType:function(e,r){"string"!=typeof r&&Ue("Cannot pass non-string to C++ string type "+n);var a=i(r),u=Wt(4+a+t);return j[u>>2]=a>>s,o(r,u+4,a+t),null!==e&&e.push(xt,u),u},argPackAdvance:8,readValueFromPointer:Qe,destructorFunction:function(e){xt(e)}})}function _t(e,t){Le(e,{isVoid:!0,name:t=Pe(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function At(e){e>4&&(Ve[e].refcount+=1)}function St(e,t){var n=Ee[e];return void 0===n&&Ue(t+" has unknown type "+dt(e)),n}function Ct(e,t){return Ze((e=St(e,"_emval_take_value")).readValueFromPointer(t))}function Tt(){he()}function Rt(e,t,n){W.copyWithin(e,t,t+n)}function Pt(){return W.length}function kt(e){try{return A.grow(e-N.byteLength+65535>>>16),Z(A.buffer),1}catch(e){}}function Et(e){e>>>=0;var t=Pt(),n=2147483648;if(e>n)return!1;for(var r=1;r<=4;r*=2){var o=t*(1+.2/r);if(o=Math.min(o,e+100663296),kt(Math.min(n,G(Math.max(16777216,e,o),65536))))return!0}return!1}Te(),Me=a.BindingError=Oe(Error,"BindingError"),je=a.InternalError=Oe(Error,"InternalError"),Ge(),ht=a.UnboundTypeError=Oe(Error,"UnboundTypeError"),J.push({func:function(){Nt()}});var It,Ft={a:Se,k:ze,j:Xe,h:et,d:mt,c:vt,b:gt,f:wt,e:bt,l:_t,m:He,n:At,i:Ct,g:Tt,o:Rt,p:Et},Nt=(_e(),a.___wasm_call_ctors=function(){return(Nt=a.___wasm_call_ctors=a.asm.s).apply(null,arguments)}),xt=(a._main=function(){return(a._main=a.asm.t).apply(null,arguments)},a._free=function(){return(xt=a._free=a.asm.u).apply(null,arguments)}),Wt=a._malloc=function(){return(Wt=a._malloc=a.asm.v).apply(null,arguments)},Ot=a.___getTypeName=function(){return(Ot=a.___getTypeName=a.asm.w).apply(null,arguments)};function Mt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ut(e){var t=a._main;try{Bt(t(0,0),!0)}catch(e){if(e instanceof Mt)return;if("unwind"==e)return void(_=!0);var n=e;e&&"object"==typeof e&&e.stack&&(n=[e,e.stack]),S("exception thrown: "+n),c(1,e)}}function jt(e){function n(){It||(It=!0,a.calledRun=!0,C||(ne(),re(),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Dt&&Ut(),oe()))}e=e||u,se>0||(te(),se>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),n()}),1)):n()))}function Bt(e,t){t&&_&&0===e||(_||(a.onExit&&a.onExit(e),C=!0),c(e,new Mt(e)))}if(a.___embind_register_native_and_builtin_types=function(){return(a.___embind_register_native_and_builtin_types=a.asm.x).apply(null,arguments)},ce=function e(){It||jt(),It||(ce=e)},a.run=jt,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var Dt=!0;return a.noInitialRun&&(Dt=!1),_=!0,jt(),e.ready});e.exports=o},747:e=>{"use strict";e.exports=n(147)},622:e=>{"use strict";e.exports=n(17)}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(524)})()},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{createFeederNode:()=>m});const e={UNINITIALIZED:1,READY:2,PLAYING:3,STARVED:4};Object.freeze(e);class t{feed(e){throw"feed() must be implemented"}connect(e){throw"connect() must be implemented"}disconnect(){throw"disconnect() must be implemented"}setPort(e){}onStateChange(e){}}class o extends t{constructor(t,n,r,o,a){super(),this.batchSize=r,this.nChannels=n,this.bufferThreshold=a,this.audioNode=t.createScriptProcessor(r,0,n),this.audioNode.onaudioprocess=this._playNext.bind(this),this._buffer=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32768,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e<=0)throw"bufferLength must be >= 1";if(t<1)throw"nChannels must >= 1";this._data=new Float32Array(e*t),this._nChannels=t,this._readPos=0,this._writePos=0}get bufferLength(){return this._data.length/this._nChannels}getNReadableSamples(){if(this._readPos==this._writePos)return 0;let e;return e=this._readPos<this._writePos?this._writePos-this._readPos:this._data.length-this._readPos+this._writePos,e/this._nChannels}read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t?Array.apply(null,Array(this._nChannels)).map((()=>new Float32Array(e))):t,r=Math.min(e,this.getNReadableSamples()),o=this._readPos;for(let e=0;e<r;e++)for(let t=0;t<n.length;t++)o===this._data.length&&(o=0),n[t][e]=this._data[o++];return this._readPos=o,n}_resize(e){let t=this.getNReadableSamples()*this._nChannels,n=new Float32Array(e+t),r=this._readPos;for(let e=0;e<t;e++)n[e]=this._data[r++];this._writePos=t,this._readPos=0,this._data=n}write(e){if(!ArrayBuffer.isView(e))throw`Must submit a TypedArray. Received ${e.constructor.name}`;let t=!1;e.length>this._data.length&&(this._resize(e.length),t=!0);let n=this._writePos;for(let t=0;t<e.length;t++)n===this._data.length&&(n=0),this._data[n++]=e[t];return this._writePos=n,[t,this._data.length/this._nChannels]}}(o,n),this.state=e.READY}get bufferLength(){return this._buffer.bufferLength}feed(e){this._buffer.write(e)}connect(e){this.audioNode.connect(e)}disconnect(){this.audioNode.disconnect()}_updateState(){let t=this.state;switch(this.state){case e.UNINITIALIZED:return;case e.PLAYING:0===this._buffer.getNReadableSamples()&&(this.state=e.STARVED);break;case e.READY:case e.STARVED:this._buffer.getNReadableSamples()>=this.bufferThreshold&&(this.state=e.PLAYING)}t!=this.state&&this.onStateChange(this.state)}_playNext(t){this._updateState();let n=Array.apply(null,Array(this.nChannels)).map(((e,n)=>t.outputBuffer.getChannelData(n)));this.state===e.PLAYING?this._buffer.read(this.batchSize,n):function(e){for(let t=0;t<e.length;t++){let n=e[t];for(let e=0;e<n.length;e++)n[e]=0}}(n)}}class a{constructor(e,t){this.inputSampleRate=e,this.outputSampleRate=t}processBatch(e){throw new Error("processBatch must be overridden!")}onProcessed(e){throw new Error("onProcessed must be overridden!")}setPort(e){}}class i{constructor(e,t,n){this.inputSampleRate=e,this.outputSampleRate=t,this.nChannels=n,this._resampleFractional=0,this._resampleLastSampleData=void 0}resample(e){var t=this.inputSampleRate,n=this.nChannels,r=this.outputSampleRate;if(t==r)return e;var o=e[0].length,a=this._resampleFractional,i=o*r/t+a,c=Math.floor(i),l=i-c;let f=function(e,t,n,r,o,a,i){var c,l=[];c=e<t?s:u;for(var f=0;f<n;f++){var h=f,d=r[h],p=new Float32Array(o);c(d,p,a?a[h]:void 0,i,e,t),l.push(p)}return l}(t,r,n,e,c,this._resampleLastSampleData,a);return this._resampleFractional=l,this._resampleLastSampleData=e,f}}function s(e,t,n,r,o,a){for(var i=function(t){return t<0?n&&n.length+t>0?n[n.length+t]:e[0]:e[t]},s=0;s<t.length;s++){var u,c=(s+1-r)*o/a-1,l=Math.floor(c),f=Math.ceil(c);u=l==f?i(l):i(l)*(f-c)+i(f)*(c-l),t[s]=u}}function u(e,t){for(var n=0;n<t.length;n++)t[n]=e[n*e.length/t.length|0]}class c extends a{constructor(e,t,n){super(t,n),this.nChannels=e,this.inputChannelBuffers=Array.apply(null,Array(e)).map((()=>new Float32Array(192e3))),this._resampler=new i(t,n,e)}processBatch(e){if(this.inputSampleRate===this.outputSampleRate)return this.onProcessed(e);let t=e.length/this.nChannels;t>this.inputChannelBuffers[0].length&&(this.inputChannelBuffers=Array.apply(null,Array(this.nChannels)).map((()=>new Float32Array(t)))),function(e,t){if(e.length>t[0].length*t.length)throw"incorrect channel lengths";for(let n=0;n<t.length;n++){let r=n;for(let o=0;o<t[n].length;o++)t[n][o]=e[r],r+=t.length}}(e,this.inputChannelBuffers);let n=this.inputChannelBuffers.map((e=>new Float32Array(e.buffer,0,t))),r=function(e){let t=e[0].length*e.length,n=new Float32Array(t);return function(e,t){if(t.length<e[0].length*e.length)throw Error("incorrect channel lengths");let n=0;for(let r=0;r<e[0].length;r++)for(let o=0;o<e.length;o++)t[n++]=e[o][r]}(e,n),n}(this._resampler.resample(n));this.onProcessed(r)}}class l extends t{constructor(t,n,r){super(),this.nChannels=t,this.bufferLength=n,this.audioNode=r,this.batchSize=128,this.state=e.READY,r.port.onmessage=this._onMessage.bind(this)}feed(t){this.state===e.UNINITIALIZED?console.warn("tried to call feed() on uninitialized backend"):this.audioNode.port.postMessage({command:"feed",data:t},[t.buffer])}setPort(e){this.audioNode.port.postMessage({command:"connect"},[e])}connect(e){this.audioNode.connect(e)}disconnect(){this.audioNode.disconnect()}_onMessage(e){if("bufferLengthChange"===e.data.command)this.bufferLength=e.data.bufferLength;else{if("stateChange"!==e.data.command)throw`command ${e.data.command} unrecognized`;this.onStateChange(e.data.state)}}}class f extends a{constructor(e,t,n,r,o){super(t,n),this.worker=o,this.worker.onmessage=this._onMessage.bind(this)}processBatch(e){this.worker.postMessage({command:"feed",data:e},[e.buffer])}setPort(e){this.worker.postMessage({command:"connect"},[e])}_onMessage(e){this.onProcessed(e.data)}}class h{constructor(e,t){if("WorkerResampler"===e.constructor.name&&"AudioWorkletBackend"===t.constructor.name){let n=new MessageChannel;e.setPort(n.port1),t.setPort(n.port2)}e.onProcessed=this._onResampleComplete.bind(this),t.onStateChange=this._onBackendStateChange.bind(this),this._resampler=e,this._backend=t}get bufferLength(){return this._backend.bufferLength}get nChannels(){return this._backend.nChannels}get batchSize(){return this._backend.batchSize}get numberOfInputs(){return this._backend.audioNode.numberOfInputs}get numberOfOutputs(){return this._backend.audioNode.numberOfOutputs}get channelCount(){return this._backend.audioNode.channelCount}get channelCountMode(){return this._backend.audioNode.channelCountMode}get channelInterpretation(){return this._backend.audioNode.channelInterpretation}set channelCount(e){this._backend.audioNode.channelCount=e}set channelCountMode(e){this._backend.audioNode.channelCountMode=e}set channelInterpretation(e){this._backend.audioNode.channelInterpretation=e}connect(e){this._backend.connect(e)}disconnect(){this._backend.disconnect()}feed(e){let t;if(!ArrayBuffer.isView(e))throw Error(`FeederNode.feed() must receive an instance of TypedArray. You passed ${e.constructor.name}`);t=function(e){let t=function(e){switch(e.constructor){case Float32Array:return 1;case Int8Array:case Uint8Array:return 127;case Int16Array:case Uint16Array:return 32767;case Int32Array:case Uint32Array:return 2147483647;default:throw`Unsupport data type ${e.constructor}`}}(e),n=new Float32Array(e.length);switch(e.constructor){case Float32Array:return e;case Int8Array:case Int16Array:case Int32Array:for(let r=0;r<e.length;r++)n[r]=e[r]/t;break;case Uint8Array:case Uint16Array:case Uint32Array:for(let r=0;r<e.length;r++)n[r]=(e[r]-t)/t}return n}(e),this._resampler.processBatch(t)}onBackendReady(){}onBackendPlaying(){}onBackendStarved(){}_onResampleComplete(e){this._backend.feed(e)}_onBackendStateChange(t){switch(t){case e.READY:return this.onBackendReady();case e.PLAYING:return this.onBackendPlaying();case e.STARVED:return this.onBackendStarved();default:throw`unknown state ${t}`}}}var d=n(756);const p=[128,256,512,1024,2048,4096,8192,16384];async function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.batchSize||(void 0!==window.AudioWorklet?128:512),o=n.bufferThreshold||4096,a=n.bufferLength||192e3,i=void 0===n.resampConverterType?d.ConverterType.SRC_SINC_FASTEST:n.resampConverterType,s=n.inputSampleRate||e.sampleRate,u=e.sampleRate,c=n.pathToWorklet||"/feeder-node.worklet.js",l=n.pathToWorker||"/feeder-node.worker.js",f=n.pathToWasm||"/libsamplerate.wasm";y(t,r,o,a,i,s);let p=await g(e,t,r,a,o,c),m=await v(t,s,u,i,l,f),w=new h(m,p);return w}function y(e,t,n,r,o,a){if(void 0===e)throw"nChannels is undefined";if(e<1||e>2)throw`invalid nChannels ${e}`;if(!p.includes(t))throw`invalid batchSize ${t}`;if(r<16384)throw"buffer length must be greater than 16384";if(n<0)throw"bufferThreshold cannot be less than 0";if(n>r)throw"bufferThreshold cannot be greater than bufferLength";if(o<0||o>4)throw`invalid converterType ${o}`;if(a<1||a>192e3)throw`invalid inputSampleRate ${a}`}async function v(e,t,n,r,o,a){return void 0!==window.WebAssembly?await function(e,t,n,r,o,a){return new Promise((i=>{let s=new Worker(o);s.onmessage=()=>{i(new f(e,t,n,r,s))},s.postMessage({command:"init",inputSampleRate:t,outputSampleRate:n,nChannels:e,converterType:r,pathToWasm:a})}))}(e,t,n,r,o,a):new c(e,t,n)}async function g(e,t,n,r,a,i){return void 0!==window.AudioWorklet?await function(e,t,n,r,o){let a=t;class i extends AudioWorkletNode{constructor(e){super(e,"FeederNode",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[a]})}}return new Promise((a=>{e.audioWorklet.addModule(o).then((()=>{let o=new i(e);o.port.postMessage({command:"init",nChannels:t,bufferLength:n,bufferThreshold:r});let s=new l(t,n,o);a(s)}))}))}(e,t,r,a,i):new o(e,t,n,r,a)}})(),r})()));