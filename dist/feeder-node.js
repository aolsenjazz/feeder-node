!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FeederNode=e():t.FeederNode=e()}(self,(function(){return(()=>{var t={756:t=>{self,t.exports=(()=>{var t={17:(t,e,n)=>{var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t=n.nmd(t);var a,i=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var e,n,r=void 0!==(t=t||{})?t:{};r.ready=new Promise((function(t,r){e=t,n=r}));var i,u={};for(i in r)r.hasOwnProperty(i)&&(u[i]=r[i]);var s=[],c=function(t,e){throw e},f="";"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),a&&(f=a),f=0!==f.indexOf("blob:")?f.substr(0,f.lastIndexOf("/")+1):"",r.print||console.log.bind(console);var l,h,p,d=r.printErr||console.warn.bind(console);for(i in u)u.hasOwnProperty(i)&&(r[i]=u[i]);u=null,r.arguments&&(s=r.arguments),r.thisProgram&&r.thisProgram,r.quit&&(c=r.quit),r.wasmBinary&&(l=r.wasmBinary),r.noExitRuntime&&(h=r.noExitRuntime),"object"!==("undefined"==typeof WebAssembly?"undefined":o(WebAssembly))&&Y("no native wasm support detected");var y=!1,v="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function m(t,e){return t?function(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.subarray&&v)return v.decode(t.subarray(e,o));for(var a="";e<o;){var i=t[e++];if(128&i){var u=63&t[e++];if(192!=(224&i)){var s=63&t[e++];if((i=224==(240&i)?(15&i)<<12|u<<6|s:(7&i)<<18|u<<12|s<<6|63&t[e++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|u)}else a+=String.fromCharCode(i)}return a}(b,t,e):""}var g,w,b,_,A,S,k,P,R,C="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function T(t,e){for(var n=t,r=n>>1,o=r+e/2;!(r>=o)&&A[r];)++r;if((n=r<<1)-t>32&&C)return C.decode(b.subarray(t,n));for(var a="",i=0;!(i>=e/2);++i){var u=_[t+2*i>>1];if(0==u)break;a+=String.fromCharCode(u)}return a}function x(t,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=e,o=(n-=2)<2*t.length?n/2:t.length,a=0;a<o;++a){var i=t.charCodeAt(a);_[e>>1]=i,e+=2}return _[e>>1]=0,e-r}function E(t){return 2*t.length}function L(t,e){for(var n=0,r="";!(n>=e/4);){var o=S[t+4*n>>2];if(0==o)break;if(++n,o>=65536){var a=o-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(o)}return r}function I(t,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=e,o=r+n-4,a=0;a<t.length;++a){var i=t.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++a)),S[e>>2]=i,(e+=4)+4>o)break}return S[e>>2]=0,e-r}function F(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&++n,e+=4}return e}function O(t){g=t,r.HEAP8=w=new Int8Array(t),r.HEAP16=_=new Int16Array(t),r.HEAP32=S=new Int32Array(t),r.HEAPU8=b=new Uint8Array(t),r.HEAPU16=A=new Uint16Array(t),r.HEAPU32=k=new Uint32Array(t),r.HEAPF32=P=new Float32Array(t),r.HEAPF64=R=new Float64Array(t)}r.INITIAL_MEMORY;var N,W=[],j=[],D=[],M=[],B=0,U=null,z=null;function Y(t){r.onAbort&&r.onAbort(t),d(t+=""),y=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(t);throw n(e),e}function V(t){return e=t,n="data:application/octet-stream;base64,",String.prototype.startsWith?e.startsWith(n):0===e.indexOf(n);var e,n}r.preloadedImages={},r.preloadedAudios={};var G,H="glue.wasm";function q(t){try{if(t==H&&l)return new Uint8Array(l);throw"both async and sync fetching of the wasm failed"}catch(t){Y(t)}}function Z(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?N.get(n)():N.get(n)(e.arg):n(void 0===e.arg?null:e.arg)}else e(r)}}function Q(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}V(H)||(G=H,H=r.locateFile?r.locateFile(G,f):f+G);var J=void 0;function $(t){for(var e="",n=t;b[n];)e+=J[b[n++]];return e}var K={},X={},tt={};function et(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?"_"+t:t}function nt(t,e){return t=et(t),new Function("body","return function "+t+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(e)}function rt(t,e){var n=nt(e,(function(t){this.name=e,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var ot=void 0;function at(t){throw new ot(t)}var it=void 0;function ut(t){throw new it(t)}function st(t,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=e.name;if(t||at('type "'+r+'" must have a positive integer typeid pointer'),X.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;at("Cannot register type '"+r+"' twice")}if(X[t]=e,delete tt[t],K.hasOwnProperty(t)){var o=K[t];delete K[t],o.forEach((function(t){t()}))}}var ct=[],ft=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function lt(t){t>4&&0==--ft[t].refcount&&(ft[t]=void 0,ct.push(t))}function ht(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=ct.length?ct.pop():ft.length;return ft[e]={refcount:1,value:t},e}}function pt(t){return this.fromWireType(k[t>>2])}function dt(t){if(null===t)return"null";var e=o(t);return"object"===e||"array"===e||"function"===e?t.toString():""+t}function yt(t,e){switch(e){case 2:return function(t){return this.fromWireType(P[t>>2])};case 3:return function(t){return this.fromWireType(R[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function vt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function mt(t,e,n){return-1!=t.indexOf("j")?function(t,e,n){return n&&n.length?r["dynCall_"+t].apply(null,[e].concat(n)):r["dynCall_"+t].call(null,e)}(t,e,n):N.get(e).apply(null,n)}var gt=void 0;function wt(t){var e=Ct(t),n=$(e);return Pt(e),n}function bt(t,e,n){switch(e){case 0:return n?function(t){return w[t]}:function(t){return b[t]};case 1:return n?function(t){return _[t>>1]}:function(t){return A[t>>1]};case 2:return n?function(t){return S[t>>2]}:function(t){return k[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function _t(t){try{return p.grow(t-g.byteLength+65535>>>16),O(p.buffer),1}catch(t){}}!function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);J=t}(),ot=r.BindingError=rt(Error,"BindingError"),it=r.InternalError=rt(Error,"InternalError"),r.count_emval_handles=function(){for(var t=0,e=5;e<ft.length;++e)void 0!==ft[e]&&++t;return t},r.get_first_emval=function(){for(var t=5;t<ft.length;++t)if(void 0!==ft[t])return ft[t];return null},gt=r.UnboundTypeError=rt(Error,"UnboundTypeError"),j.push({func:function(){kt()}});var At,St={a:function(t,e,n,r){Y("Assertion failed: "+m(t)+", at: "+[e?m(e):"unknown filename",n,r?m(r):"unknown function"])},k:function(t,e,n,r,o){var a=Q(n);st(t,{name:e=$(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:o},argPackAdvance:8,readValueFromPointer:function(t){var r;if(1===n)r=w;else if(2===n)r=_;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);r=S}return this.fromWireType(r[t>>a])},destructorFunction:null})},j:function(t,e){st(t,{name:e=$(e),fromWireType:function(t){var e=ft[t].value;return lt(t),e},toWireType:function(t,e){return ht(e)},argPackAdvance:8,readValueFromPointer:pt,destructorFunction:null})},h:function(t,e,n){var r=Q(n);st(t,{name:e=$(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+dt(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:yt(e,r),destructorFunction:null})},d:function(t,e,n,a,i,u){var s=function(t,e){for(var n=[],r=0;r<t;r++)n.push(S[(e>>2)+r]);return n}(e,n);t=$(t),i=function(t,e){var n=-1!=(t=$(t)).indexOf("j")?function(t,e){t.indexOf("j")>=0||Y("Assertion failed: getDynCaller should only be called with i64 sigs");var n=[];return function(){n.length=arguments.length;for(var r=0;r<arguments.length;r++)n[r]=arguments[r];return mt(t,e,n)}}(t,e):N.get(e);return"function"!=typeof n&&at("unknown function pointer with signature "+t+": "+e),n}(a,i),function(t,e,n){r.hasOwnProperty(t)?((void 0===n||void 0!==r[t].overloadTable&&void 0!==r[t].overloadTable[n])&&at("Cannot register public name '"+t+"' twice"),function(t,e,n){if(void 0===t[e].overloadTable){var r=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||at("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[r.argCount]=r}}(r,t,t),r.hasOwnProperty(n)&&at("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),r[t].overloadTable[n]=e):(r[t]=e,void 0!==n&&(r[t].numArguments=n))}(t,(function(){!function(t,e){var n=[],r={};throw e.forEach((function t(e){r[e]||X[e]||(tt[e]?tt[e].forEach(t):(n.push(e),r[e]=!0))})),new gt(t+": "+n.map(wt).join([", "]))}("Cannot call "+t+" due to unbound types",s)}),e-1),function(n,a,s){function c(a){var s=function(n){var a=[n[0],null].concat(n.slice(1));return function(t,e,n){r.hasOwnProperty(t)||ut("Replacing nonexistant public symbol"),void 0!==r[t].overloadTable&&void 0!==n?r[t].overloadTable[n]=e:(r[t]=e,r[t].argCount=n)}(t,function(t,e,n,r,a){var i=e.length;i<2&&at("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var u=null!==e[1]&&!1,s=!1,c=1;c<e.length;++c)if(null!==e[c]&&void 0===e[c].destructorFunction){s=!0;break}var f="void"!==e[0].name,l="",h="";for(c=0;c<i-2;++c)l+=(0!==c?", ":"")+"arg"+c,h+=(0!==c?", ":"")+"arg"+c+"Wired";var p="return function "+et(t)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var d=s?"destructors":"null",y=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],v=[at,r,a,vt,e[0],e[1]];for(u&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),c=0;c<i-2;++c)p+="var arg"+c+"Wired = argType"+c+".toWireType("+d+", arg"+c+"); // "+e[c+2].name+"\n",y.push("argType"+c),v.push(e[c+2]);if(u&&(h="thisWired"+(h.length>0?", ":"")+h),p+=(f?"var rv = ":"")+"invoker(fn"+(h.length>0?", ":"")+h+");\n",s)p+="runDestructors(destructors);\n";else for(c=u?1:2;c<e.length;++c){var m=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==e[c].destructorFunction&&(p+=m+"_dtor("+m+"); // "+e[c].name+"\n",y.push(m+"_dtor"),v.push(e[c].destructorFunction))}return f&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",y.push(p),function(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+o(t)+" which is not a function");var n=nt(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var r=new n,a=t.apply(r,e);return a instanceof Object?a:r}(Function,y).apply(null,v)}(t,a,0,i,u),e-1),[]}(a);s.length!==n.length&&ut("Mismatched type converter count");for(var c=0;c<n.length;++c)st(n[c],s[c])}n.forEach((function(t){tt[t]=a}));var f=new Array(a.length),l=[],h=0;a.forEach((function(t,e){X.hasOwnProperty(t)?f[e]=X[t]:(l.push(t),K.hasOwnProperty(t)||(K[t]=[]),K[t].push((function(){f[e]=X[t],++h===l.length&&c(f)})))})),0===l.length&&c(f)}([],s)},c:function(t,e,n,r,o){e=$(e),-1===o&&(o=4294967295);var a=Q(n),i=function(t){return t};if(0===r){var u=32-8*n;i=function(t){return t<<u>>>u}}var s=-1!=e.indexOf("unsigned");st(t,{name:e,fromWireType:i,toWireType:function(t,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+dt(n)+'" to '+this.name);if(n<r||n>o)throw new TypeError('Passing a number "'+dt(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+r+", "+o+"]!");return s?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:bt(e,a,0!==r),destructorFunction:null})},b:function(t,e,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(t){var e=k,n=e[t>>=2],o=e[t+1];return new r(g,o,n)}st(t,{name:n=$(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},f:function(t,e){var n="std::string"===(e=$(e));st(t,{name:e,fromWireType:function(t){var e,r=k[t>>2];if(n)for(var o=t+4,a=0;a<=r;++a){var i=t+4+a;if(a==r||0==b[i]){var u=m(o,i-o);void 0===e?e=u:(e+=String.fromCharCode(0),e+=u),o=i+1}}else{var s=new Array(r);for(a=0;a<r;++a)s[a]=String.fromCharCode(b[t+4+a]);e=s.join("")}return Pt(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r="string"==typeof e;r||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||at("Cannot pass non-string to std::string");var o=(n&&r?function(){return function(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++n)),r<=127?++e:e+=r<=2047?2:r<=65535?3:4}return e}(e)}:function(){return e.length})(),a=Rt(4+o+1);if(k[a>>2]=o,n&&r)!function(t,e,n,r){if(!(r>0))return 0;for(var o=n+r-1,a=0;a<t.length;++a){var i=t.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++a)),i<=127){if(n>=o)break;e[n++]=i}else if(i<=2047){if(n+1>=o)break;e[n++]=192|i>>6,e[n++]=128|63&i}else if(i<=65535){if(n+2>=o)break;e[n++]=224|i>>12,e[n++]=128|i>>6&63,e[n++]=128|63&i}else{if(n+3>=o)break;e[n++]=240|i>>18,e[n++]=128|i>>12&63,e[n++]=128|i>>6&63,e[n++]=128|63&i}}e[n]=0}(e,b,a+4,o+1);else if(r)for(var i=0;i<o;++i){var u=e.charCodeAt(i);u>255&&(Pt(a),at("String has UTF-16 code units that do not fit in 8 bits")),b[a+4+i]=u}else for(i=0;i<o;++i)b[a+4+i]=e[i];return null!==t&&t.push(Pt,a),a},argPackAdvance:8,readValueFromPointer:pt,destructorFunction:function(t){Pt(t)}})},e:function(t,e,n){var r,o,a,i,u;n=$(n),2===e?(r=T,o=x,i=E,a=function(){return A},u=1):4===e&&(r=L,o=I,i=F,a=function(){return k},u=2),st(t,{name:n,fromWireType:function(t){for(var n,o=k[t>>2],i=a(),s=t+4,c=0;c<=o;++c){var f=t+4+c*e;if(c==o||0==i[f>>u]){var l=r(s,f-s);void 0===n?n=l:(n+=String.fromCharCode(0),n+=l),s=f+e}}return Pt(t),n},toWireType:function(t,r){"string"!=typeof r&&at("Cannot pass non-string to C++ string type "+n);var a=i(r),s=Rt(4+a+e);return k[s>>2]=a>>u,o(r,s+4,a+e),null!==t&&t.push(Pt,s),s},argPackAdvance:8,readValueFromPointer:pt,destructorFunction:function(t){Pt(t)}})},l:function(t,e){st(t,{isVoid:!0,name:e=$(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},m:lt,n:function(t){t>4&&(ft[t].refcount+=1)},i:function(t,e){var n,r;return void 0===(r=X[n=t])&&at("_emval_take_value has unknown type "+wt(n)),ht((t=r).readValueFromPointer(e))},g:function(){Y()},o:function(t,e,n){b.copyWithin(t,e,e+n)},p:function(t){t>>>=0;var e=b.length,n=2147483648;if(t>n)return!1;for(var r,o=1;o<=4;o*=2){var a=e*(1+.2/o);if(a=Math.min(a,t+100663296),_t(Math.min(n,((r=Math.max(16777216,t,a))%65536>0&&(r+=65536-r%65536),r))))return!0}return!1}},kt=(function(){var t={a:St};function e(t,e){var n=t.exports;r.asm=n,O((p=r.asm.q).buffer),N=r.asm.r,function(t){if(B--,r.monitorRunDependencies&&r.monitorRunDependencies(B),0==B&&(null!==U&&(clearInterval(U),U=null),z)){var e=z;z=null,e()}}()}function o(t){e(t.instance)}function a(e){return(l||"function"!=typeof fetch?Promise.resolve().then((function(){return q(H)})):fetch(H,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+H+"'";return t.arrayBuffer()})).catch((function(){return q(H)}))).then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(t){d("failed to asynchronously prepare wasm: "+t),Y(t)}))}if(B++,r.monitorRunDependencies&&r.monitorRunDependencies(B),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(t){return d("Module.instantiateWasm callback failed with error: "+t),!1}(l||"function"!=typeof WebAssembly.instantiateStreaming||V(H)||"function"!=typeof fetch?a(o):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(o,(function(t){return d("wasm streaming compile failed: "+t),d("falling back to ArrayBuffer instantiation"),a(o)}))}))).catch(n)}(),r.___wasm_call_ctors=function(){return(kt=r.___wasm_call_ctors=r.asm.s).apply(null,arguments)}),Pt=(r._main=function(){return(r._main=r.asm.t).apply(null,arguments)},r._free=function(){return(Pt=r._free=r.asm.u).apply(null,arguments)}),Rt=r._malloc=function(){return(Rt=r._malloc=r.asm.v).apply(null,arguments)},Ct=r.___getTypeName=function(){return(Ct=r.___getTypeName=r.asm.w).apply(null,arguments)};function Tt(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function xt(t){function n(){At||(At=!0,r.calledRun=!0,y||(Z(j),Z(D),e(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Et&&function(t){var e,n=r._main;try{e=n(0,0),h&&0===e||(h||(r.onExit&&r.onExit(e),y=!0),c(e,new Tt(e)))}catch(t){if(t instanceof Tt)return;if("unwind"==t)return void(h=!0);var a=t;t&&"object"===o(t)&&t.stack&&(a=[t,t.stack]),d("exception thrown: "+a),c(1,t)}}(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)t=r.postRun.shift(),M.unshift(t);var t;Z(M)}()))}t=t||s,B>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)t=r.preRun.shift(),W.unshift(t);var t;Z(W)}(),B>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),n()}),1)):n()))}if(r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.x).apply(null,arguments)},z=function t(){At||xt(),At||(z=t)},r.run=xt,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var Et=!0;return r.noInitialRun&&(Et=!1),h=!0,xt(),t.ready});"object"===o(e)&&"object"===o(t)?t.exports=i:void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)},498:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ConverterType:()=>s,create:()=>c});var r=n(17),o=n.n(r);function a(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null===n?new Float32Array(t):n,o=0;o<t;o++)r[o]=e[o];return r}var i=1008e3,u=function(){function t(e,n,r,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.module=e,this.converterType=n,this.nChannels=r,this.inputSampleRate=o,this.outputSampleRate=a,this.ratio=a/o,this.isDestroyed=!1,e.init(r,n,o,a),this.sourceArray=e.sourceArray(i),this.targetArray=e.targetArray(i)}var e;return(e=[{key:"simple",value:function(t){return this._resample(this.module.simple,t)}},{key:"full",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._resample(this.module.full,t,e)}},{key:"destroy",value:function(){!0===this.isDestroyed?console.warn("destroy() has already been called on this instance"):(this.module.destroy(),this.isDestroyed=!0)}},{key:"_chunkAndResample",value:function(t){for(var e=0,n=[],r=function(t,e,n){for(var r=0,o=[],a=0;a<t.length;a+=e){var i=Math.min(e,t.length-r),u=new n(t.buffer,r*t.BYTES_PER_ELEMENT,i);r+=e,o.push(u)}return o}(t,this.inputSampleRate/10*this.nChannels,Float32Array),o=0;o<r.length;o++){var a=this._resample(this.module.full,r[o]);e+=a.length,n.push(a)}for(var i=new Float32Array(e),u=0,s=0;s<n.length;s++)for(var c=0;c<n[s].length;c++)i[u++]=n[s][c];return i}},{key:"_resample",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.inputSampleRate===this.outputSampleRate)return e;if(null!==n&&n.length<this.ratio*e.length)throw"dataOut must be at least ceil(srcRatio * dataIn.length) samples long";return Math.ceil(e.length*this.ratio)>i?this._chunkAndResample(e):(this.sourceArray.set(e),a(t(e.length,this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)*this.nChannels,this.targetArray,n))}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}(),s={SRC_SINC_BEST_QUALITY:0,SRC_SINC_MEDIUM_QUALITY:1,SRC_SINC_FASTEST:2,SRC_ZERO_ORDER_HOLD:3,SRC_LINEAR:4};function c(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0===r.converterType?s.SRC_SINC_FASTEST:r.converterType,i=r.wasmPath||"/libsamplerate.wasm";if(void 0===t)throw"nChannels is undefined";if(void 0===e)throw"inputSampleRate is undefined";if(void 0===n)throw"outputSampleRate is undefined";if(t<1||t>128)throw"invalid nChannels submitted";if(e<1||e>192e3)throw"invalid inputSampleRate";if(n<1||n>192e3)throw"invalid outputSampleRate";if(a<s.SRC_SINC_BEST_QUALITY||a>s.SRC_LINEAR)throw"invalid converterType";var c={locateFile:function(t){return i}};return new Promise((function(r,i){o()(c).then((function(o){var i=new u(o,a,t,e,n);r(i)})).catch((function(t){i(t)}))}))}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r](o,o.exports,n),o.loaded=!0,o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n(498)})()},506:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},926:t=>{function e(t,e,n,r,o,a,i){try{var u=t[a](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(o,a){var i=t.apply(n,r);function u(t){e(i,o,a,u,s,"next",t)}function s(t){e(i,o,a,u,s,"throw",t)}u(void 0)}))}}},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},100:(t,e,n)=>{var r=n(489),o=n(67);function a(e,n,i){return o()?t.exports=a=Reflect.construct:t.exports=a=function(t,e,n){var o=[null];o.push.apply(o,e);var a=new(Function.bind.apply(t,o));return n&&r(a,n.prototype),a},a.apply(null,arguments)}t.exports=a},913:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}},754:t=>{function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},205:(t,e,n)=>{var r=n(489);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},430:t=>{t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},67:t=>{t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},585:(t,e,n)=>{var r=n(8),o=n(506);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},489:t=>{function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,r)}t.exports=e},8:t=>{function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e},957:(t,e,n)=>{var r=n(754),o=n(489),a=n(430),i=n(100);function u(e){var n="function"==typeof Map?new Map:void 0;return t.exports=u=function(t){if(null===t||!a(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return i(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)},u(e)}t.exports=u},553:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),i=new T(r||[]);return a._invoke=function(t,e,n){var r=l;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw a;return E()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var u=P(i,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=f(t,e,n);if("normal"===s.type){if(r=n.done?d:h,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d,n.method="throw",n.arg=s.arg)}}}(t,n,i),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",h="suspendedYield",p="executing",d="completed",y={};function v(){}function m(){}function g(){}var w={};w[a]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(x([])));_&&_!==n&&r.call(_,a)&&(w=_);var A=g.prototype=v.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,u){var s=f(t[o],t,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):e.resolve(l).then((function(t){c.value=t,i(c)}),(function(t){return n("throw",t,i,u)}))}u(s.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function P(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function x(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:E}}function E(){return{value:e,done:!0}}return m.prototype=A.constructor=g,g.constructor=m,m.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},S(k.prototype),k.prototype[i]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new k(c(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(A),s(A,u,"Generator"),A[a]=function(){return this},A.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},757:(t,e,n)=>{t.exports=n(553)},813:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createFeederNode:()=>W});var r=n(757),o=n.n(r),a=n(926),i=n.n(a),u=n(575),s=n.n(u),c=n(913),f=n.n(c),l=n(506),h=n.n(l),p=n(205),d=n.n(p),y=n(585),v=n.n(y),m=n(754),g=n.n(m),w={UNINITIALIZED:1,READY:2,PLAYING:3,STARVED:4};Object.freeze(w);var b=function(){function t(){s()(this,t)}return f()(t,[{key:"feed",value:function(t){throw"feed() must be implemented"}},{key:"connect",value:function(t){throw"connect() must be implemented"}},{key:"disconnect",value:function(){throw"disconnect() must be implemented"}},{key:"setPort",value:function(t){}},{key:"onStateChange",value:function(t){}}]),t}();const _=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32768,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(s()(this,t),this._data=[],this._writePos=0,this._readPos=0,e<=0)throw"bufferLength must be >= 1";if(!(0<n&&n<=2))throw"nChannels must be 0 < nChannels <=2";for(var r=0;r<n;r++)this._data.push(new Float32Array(e));this.bufferLength=e,this._nChannels=n}return f()(t,[{key:"hasDataAvailable",value:function(){return this._writePos!=this._readPos}},{key:"resetReadPosition",value:function(){this._readPos=this._writePos}},{key:"getNReadableSamples",value:function(){return this._readPos==this._writePos?0:this._readPos<this._writePos?this._writePos-this._readPos:this.bufferLength-this._readPos+this._writePos}},{key:"advanceReadPosition",value:function(t){for(var e=this._readPos,n=0;n<t&&(e==this.bufferLength&&(e=0),++e!=this._writePos);n++);this._readPos=e}},{key:"read",value:function(t){for(var e,n=Array.apply(null,Array(this._nChannels)).map((function(e,n){return new Float32Array(t)})),r=Math.min(t,this.getNReadableSamples()),o=0;o<n.length;o++){var a=n[o];e=this._readPos;for(var i=0;i<r;i++)e==this.bufferLength&&(e=0),a[i]=this._data[o][e++]}return this._readPos=e,n}},{key:"readInto",value:function(t,e){for(var n,r=Math.min(e,this.getNReadableSamples()),o=0;o<t.length;o++){n=this._readPos;for(var a=0;a<r;a++)n==this.bufferLength&&(n=0),t[o][a]=this._data[o][n++]}this._readPos=n}},{key:"_resize",value:function(t){for(var e=[],n=this.getNReadableSamples(),r=0;r<this._nChannels;r++)e.push(new Float32Array(t));this.readInto(e,n),this._writePos=n,this._readPos=0,this._data=e,this.bufferLength=e[0].length}},{key:"write",value:function(t){var e,n,r=!1,o=!1;if(ArrayBuffer.isView(t)&&1===this._nChannels)e=[t];else if(ArrayBuffer.isView(t))e=[t],r=!0;else{if(t.length!=this._nChannels)throw"readChannels.length must equal this._nChannels!";for(var a=t[0].length,i=0;i<t.length;i++)if(t[i].length!=a)throw"channel lengths differ in write()";e=t}(r?e[0].length/this._data.length:e[0].length)>this.bufferLength&&(this._resize(e[0].length+this.getNReadableSamples()),o=!0);for(var u=0;u<e.length;u++){var s=e[u];if(n=this._writePos,!0===r)for(var c=0;c<s.length;c+=this._data.length){n==this.bufferLength&&(n=0);for(var f=0;f<this._data.length;f++)this._data[f][n]=s[c+f];n++}else for(var l=0;l<s.length;l++)n==this.bufferLength&&(n=0),this._data[u][n++]=s[l]}return this._writePos=n,[o,this.bufferLength]}}]),t}();var A=function(t){d()(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=g()(e);if(n){var o=g()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return v()(this,t)});function o(t,e,n,a,i){var u;return s()(this,o),(u=r.call(this)).batchSize=n,u.nChannels=e,u.bufferThreshold=i,u._processor=t.createScriptProcessor(n,0,e),u._processor.onaudioprocess=u._playNext.bind(h()(u)),u._buffer=new _(a,e),u.state=w.READY,u}return f()(o,[{key:"feed",value:function(t){this._buffer.write(t)}},{key:"connect",value:function(t){this._processor.connect(t)}},{key:"disconnect",value:function(){this._processor.disconnect()}},{key:"_updateState",value:function(){var t=this.state;switch(this.state){case w.UNINITIALIZED:return;case w.PLAYING:0===this._buffer.getNReadableSamples()&&(this.state=w.STARVED);break;case w.READY:case w.STARVED:this._buffer.getNReadableSamples()>=this.bufferThreshold&&(this.state=w.PLAYING)}t!=this.state&&this.onStateChange(this.state)}},{key:"_playNext",value:function(t){this._updateState();var e=Array.apply(null,Array(this.nChannels)).map((function(e,n){return t.outputBuffer.getChannelData(n)}));this.state===w.PLAYING?this._buffer.readInto(e,this.batchSize):function(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.length;r++)n[r]=0}(e)}},{key:"bufferLength",get:function(){return this._buffer.bufferLength}}]),o}(b),S=function(){function t(e,n){s()(this,t),this.inputSampleRate=e,this.outputSampleRate=n}return f()(t,[{key:"processBatch",value:function(t){throw new Error("processBatch must be overridden!")}},{key:"onProcessed",value:function(t){throw new Error("onProcessed must be overridden!")}},{key:"setPort",value:function(t){}}]),t}(),k=function(){function t(e,n,r){s()(this,t),this.inputSampleRate=e,this.outputSampleRate=n,this.nChannels=r,this._resampleFractional=0,this._resampleLastSampleData=void 0}return f()(t,[{key:"resample",value:function(t){var e=this.inputSampleRate,n=this.nChannels,r=this.outputSampleRate;if(e==r)return t;var o,a=[],i=t[0].length,u=this._resampleFractional,s=i*r/e+u,c=Math.floor(s),f=s-c;o=e<r?function(t,n,o,a){for(var i=function(e){return e<0?o&&o.length+e>0?o[o.length+e]:t[0]:t[e]},s=0;s<n.length;s++){var c,f=(s+1-u)*e/r-1,l=Math.floor(f),h=Math.ceil(f);c=l==h?i(l):i(l)*(h-f)+i(h)*(f-l),n[s]=c}}:function(t,e,n){for(var r=0;r<e.length;r++)e[r]=t[r*t.length/e.length|0]};for(var l=0;l<n;l++){var h=l,p=t[h],d=new Float32Array(c);o(p,d,this._resampleLastSampleData?this._resampleLastSampleData[h]:void 0),a.push(d)}return this._resampleFractional=f,this._resampleLastSampleData=t,a}}]),t}();var P=function(t){d()(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=g()(e);if(n){var o=g()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return v()(this,t)});function o(t,e,n){var a;return s()(this,o),(a=r.call(this,e,n)).nChannels=t,a.inputChannelBuffers=Array.apply(null,Array(t)).map((function(t,e){return new Float32Array(192e3)})),a._resampler=new k(e,n,t),a}return f()(o,[{key:"processBatch",value:function(t){if(this.inputSampleRate===this.outputSampleRate)return this.onProcessed(t);var e=t.length/this.nChannels;e>this.inputChannelBuffers[0].length&&(this.inputChannelBuffers=Array.apply(null,Array(this.nChannels)).map((function(t,n){return new Float32Array(e)}))),function(t,e){if(t.length>e[0].length*e.length)throw"incorrect channel lengths";for(var n=0;n<e.length;n++)for(var r=n,o=0;o<e[n].length;o++)e[n][o]=t[r],r+=e.length}(t,this.inputChannelBuffers);var n,r,o,a=this.inputChannelBuffers.map((function(t){return new Float32Array(t.buffer,0,e)})),i=(n=this._resampler.resample(a),r=n[0].length*n.length,o=new Float32Array(r),function(t,e){if(e.length<t[0].length*t.length)throw Error("incorrect channel lengths");for(var n=0,r=0;r<t[0].length;r++)for(var o=0;o<t.length;o++)e[n++]=t[o][r]}(n,o),o);this.onProcessed(i)}}]),o}(S),R=n(957),C=n.n(R);function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}function x(t,e,n,r,o){var a=e,i=function(t){d()(n,t);var e=T(n);function n(t){return s()(this,n),e.call(this,t,"FeederNode",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[a]})}return n}(C()(AudioWorkletNode));return new Promise((function(a,u){t.audioWorklet.addModule(o).then((function(){var o=new i(t);o.port.postMessage({command:"init",nChannels:e,bufferLength:n,bufferThreshold:r});var u=new E(e,n,o);a(u)}))}))}var E=function(t){d()(n,t);var e=T(n);function n(t,r,o){var a;return s()(this,n),(a=e.call(this)).nChannels=t,a.bufferLength=r,a.audioNode=o,a.batchSize=128,a.state=w.READY,o.port.onmessage=a._onMessage.bind(h()(a)),a}return f()(n,[{key:"feed",value:function(t){this.state===w.UNINITIALIZED?console.warn("tried to call feed() on uninitialized backend"):this.audioNode.port.postMessage({command:"feed",data:t},[t.buffer])}},{key:"setPort",value:function(t){this.audioNode.port.postMessage({command:"connect"},[t])}},{key:"connect",value:function(t){this.audioNode.connect(t)}},{key:"disconnect",value:function(){this.audioNode.disconnect()}},{key:"_onMessage",value:function(t){if("bufferLengthChange"===t.data.command)this.bufferLength=t.data.bufferLength;else{if("stateChange"!==t.data.command)throw"command ".concat(t.data.command," unrecognized");this.onStateChange(t.data.state)}}}]),n}(b);function L(t,e,n,r,o,a){return new Promise((function(i,u){var s=new Worker(o);s.onmessage=function(o){i(new I(t,e,n,r,s))},s.postMessage({command:"init",inputSampleRate:e,outputSampleRate:n,nChannels:t,converterType:r,pathToWasm:a})}))}var I=function(t){d()(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=g()(e);if(n){var o=g()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return v()(this,t)});function o(t,e,n,a,i){var u;return s()(this,o),(u=r.call(this,e,n)).worker=i,u.worker.onmessage=u._onMessage.bind(h()(u)),u}return f()(o,[{key:"processBatch",value:function(t){this.worker.postMessage({command:"feed",data:t},[t.buffer])}},{key:"setPort",value:function(t){this.worker.postMessage({command:"connect"},[t])}},{key:"_onMessage",value:function(t){this.onProcessed(t.data)}}]),o}(S),F=function(){function t(e,n){if(s()(this,t),"WorkerResampler"===e.constructor.name&&"AudioWorkletBackend"===n.constructor.name){var r=new MessageChannel;e.setPort(r.port1),n.setPort(r.port2)}e.onProcessed=this._onResampleComplete.bind(this),n.onStateChange=this._onBackendStateChange.bind(this),this._resampler=e,this._backend=n}return f()(t,[{key:"connect",value:function(t){this._backend.connect(t)}},{key:"disconnect",value:function(){this._backend.disconnect()}},{key:"feed",value:function(t){var e;if(!ArrayBuffer.isView(t))throw Error("FeederNode.feed() must receive an instance of TypedArray. You passed ".concat(t.constructor.name));e=function(t){var e=function(t){switch(t.constructor){case Float32Array:return 1;case Int8Array:case Uint8Array:return 127;case Int16Array:case Uint16Array:return 32767;case Int32Array:case Uint32Array:return 2147483647;default:throw"Unsupport data type ".concat(t.constructor)}}(t),n=new Float32Array(t.length);switch(t.constructor){case Float32Array:return t;case Int8Array:case Int16Array:case Int32Array:for(var r=0;r<t.length;r++)n[r]=t[r]/e;break;case Uint8Array:case Uint16Array:case Uint32Array:for(var o=0;o<t.length;o++)n[o]=(t[o]-e)/e}return n}(t),this._resampler.processBatch(e)}},{key:"onBackendReady",value:function(){}},{key:"onBackendPlaying",value:function(){}},{key:"onBackendStarved",value:function(){}},{key:"_onResampleComplete",value:function(t){this._backend.feed(t)}},{key:"_onBackendStateChange",value:function(t){switch(t){case w.READY:return this.onBackendReady();case w.PLAYING:return this.onBackendPlaying();case w.STARVED:return this.onBackendStarved();default:throw"unknown state ".concat(t)}}},{key:"bufferLength",get:function(){return this._backend.bufferLength}},{key:"nChannels",get:function(){return this._backend.nChannels}},{key:"batchSize",get:function(){return this._backend.batchSize}}]),t}(),O=n(756),N=[128,256,512,1024,2048,4096,8192,16384];function W(t,e){return j.apply(this,arguments)}function j(){return(j=i()(o().mark((function t(e,n){var r,a,i,u,s,c,f,l,h,p,d,y,v,m=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=m.length>2&&void 0!==m[2]?m[2]:{},a=r.batchSize||(void 0!==window.AudioWorklet?128:512),i=r.bufferThreshold||4096,u=r.bufferLength||192e3,s=void 0===r.resampConverterType?O.ConverterType.SRC_SINC_FASTEST:r.resampConverterType,c=r.inputSampleRate||e.sampleRate,f=e.sampleRate,l=r.pathToWorklet||"/feeder-node.processor.js",h=r.pathToWorker||"/feeder-node.worker.js",p=r.pathToWasm||"/libsamplerate.wasm",D(n,a,i,u,s,c),t.next=13,U(e,n,a,u,i,l);case 13:return d=t.sent,t.next=16,M(n,c,f,s,h,p);case 16:return y=t.sent,v=new F(y,d),t.abrupt("return",v);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t,e,n,r,o,a){if(void 0===t)throw"nChannels is undefined";if(t<1||t>2)throw"invalid nChannels ".concat(t);if(!N.includes(e))throw"invalid batchSize ".concat(e);if(r<16384)throw"buffer length must be greater than 16384";if(n<0)throw"bufferThreshold cannot be less than 0";if(n>r)throw"bufferThreshold cannot be greater than bufferLength";if(o<0||o>4)throw"invalid converterType ".concat(o);if(a<1||a>192e3)throw"invalid inputSampleRate ".concat(a)}function M(t,e,n,r,o,a){return B.apply(this,arguments)}function B(){return(B=i()(o().mark((function t(e,n,r,a,i,u){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===window.WebAssembly){t.next=6;break}return t.next=3,L(e,n,r,a,i,u);case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",new P(e,n,r));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t,e,n,r,o,a){return z.apply(this,arguments)}function z(){return(z=i()(o().mark((function t(e,n,r,a,i,u){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===window.AudioWorklet){t.next=6;break}return t.next=3,x(e,n,a,i,u);case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",new A(e,n,r,a,i));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(813)})()}));