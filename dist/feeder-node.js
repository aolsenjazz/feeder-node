!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FeederNode=t():e.FeederNode=t()}(this,(()=>(()=>{var e={756:function(e,t,n){e.exports=(()=>{var e={17:(e,t,n)=>{var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e);var a,i=(a=(a="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(e){var t,r,i=void 0!==(e=e||{})?e:{};i.ready=new Promise((function(e,n){t=e,r=n}));var s,u={};for(s in i)i.hasOwnProperty(s)&&(u[s]=i[s]);var c=[],l=function(e,t){throw t},f=!1,h=!1,d=!1,p=!1;f="object"===("undefined"==typeof window?"undefined":o(window)),h="function"==typeof importScripts,d="object"===("undefined"==typeof process?"undefined":o(process))&&"object"===o(process.versions)&&"string"==typeof process.versions.node,p=!f&&!d&&!h;var m,y,v,g,w="";function b(e){return i.locateFile?i.locateFile(e,w):w+e}d?(w=h?n(622).dirname(w)+"/":__dirname+"/",m=function(e,t){return v||(v=n(747)),g||(g=n(622)),e=g.normalize(e),v.readFileSync(e,t?null:"utf8")},y=function(e){var t=m(e,!0);return t.buffer||(t=new Uint8Array(t)),P(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),c=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Ut))throw e})),process.on("unhandledRejection",de),l=function(e){process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"}):p?("undefined"!=typeof read&&(m=function(e){return read(e)}),y=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(P("object"===o(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?c=scriptArgs:void 0!==arguments&&(c=arguments),"function"==typeof quit&&(l=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(f||h)&&(h?w=this.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),a&&(w=a),w=0!==w.indexOf("blob:")?w.substr(0,w.lastIndexOf("/")+1):"",m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(y=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),i.print||console.log.bind(console);var _,A,S,C=i.printErr||console.warn.bind(console);for(s in u)u.hasOwnProperty(s)&&(i[s]=u[s]);u=null,i.arguments&&(c=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&(l=i.quit),i.wasmBinary&&(_=i.wasmBinary),i.noExitRuntime&&(A=i.noExitRuntime),"object"!==("undefined"==typeof WebAssembly?"undefined":o(WebAssembly))&&de("no native wasm support detected");var T=!1;function P(e,t){e||de("Assertion failed: "+t)}var R="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function k(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&R)return R.decode(e.subarray(t,o));for(var a="";t<o;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var u=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}function E(e,t){return e?k(O,e,t):""}function I(e,t,n,r){if(!(r>0))return 0;for(var o=n,a=n+r-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-o}function F(e,t,n){return I(e,O,t,n)}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}var x,W,O,M,U,B,D,L,j,z="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function Y(e,t){for(var n=e,r=n>>1,o=r+t/2;!(r>=o)&&U[r];)++r;if((n=r<<1)-e>32&&z)return z.decode(O.subarray(e,n));for(var a="",i=0;!(i>=t/2);++i){var s=M[e+2*i>>1];if(0==s)break;a+=String.fromCharCode(s)}return a}function V(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,o=(n-=2)<2*e.length?n/2:e.length,a=0;a<o;++a){var i=e.charCodeAt(a);M[t>>1]=i,t+=2}return M[t>>1]=0,t-r}function H(e){return 2*e.length}function q(e,t){for(var n=0,r="";!(n>=t/4);){var o=B[e+4*n>>2];if(0==o)break;if(++n,o>=65536){var a=o-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(o)}return r}function $(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,o=r+n-4,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),B[t>>2]=i,(t+=4)+4>o)break}return B[t>>2]=0,t-r}function G(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function Z(e,t){return e%t>0&&(e+=t-e%t),e}function Q(e){x=e,i.HEAP8=W=new Int8Array(e),i.HEAP16=M=new Int16Array(e),i.HEAP32=B=new Int32Array(e),i.HEAPU8=O=new Uint8Array(e),i.HEAPU16=U=new Uint16Array(e),i.HEAPU32=D=new Uint32Array(e),i.HEAPF32=L=new Float32Array(e),i.HEAPF64=j=new Float64Array(e)}i.INITIAL_MEMORY;var X,J=[],K=[],ee=[],te=[];function ne(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)ie(i.preRun.shift());Se(J)}function re(){Se(K)}function oe(){Se(ee)}function ae(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)se(i.postRun.shift());Se(te)}function ie(e){J.unshift(e)}function se(e){te.unshift(e)}var ue=0,ce=null,le=null;function fe(e){ue++,i.monitorRunDependencies&&i.monitorRunDependencies(ue)}function he(e){if(ue--,i.monitorRunDependencies&&i.monitorRunDependencies(ue),0==ue&&(null!==ce&&(clearInterval(ce),ce=null),le)){var t=le;le=null,t()}}function de(e){i.onAbort&&i.onAbort(e),C(e+=""),T=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}function pe(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}i.preloadedImages={},i.preloadedAudios={};var me="data:application/octet-stream;base64,";function ye(e){return pe(e,me)}var ve="file://";function ge(e){return pe(e,ve)}var we="glue.wasm";function be(e){try{if(e==we&&_)return new Uint8Array(_);if(y)return y(e);throw"both async and sync fetching of the wasm failed"}catch(e){de(e)}}function _e(){return _||!f&&!h||"function"!=typeof fetch||ge(we)?Promise.resolve().then((function(){return be(we)})):fetch(we,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+we+"'";return e.arrayBuffer()})).catch((function(){return be(we)}))}function Ae(){var e={a:Nt};function t(e,t){var n=e.exports;i.asm=n,Q((S=i.asm.q).buffer),X=i.asm.r,he()}function n(e){t(e.instance)}function o(t){return _e().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){C("failed to asynchronously prepare wasm: "+e),de(e)}))}if(fe(),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return C("Module.instantiateWasm callback failed with error: "+e),!1}return(_||"function"!=typeof WebAssembly.instantiateStreaming||ye(we)||ge(we)||"function"!=typeof fetch?o(n):fetch(we,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),o(n)}))}))).catch(r),{}}function Se(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?X.get(n)():X.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(i)}}function Ce(e,t,n,r){de("Assertion failed: "+E(e)+", at: "+[t?E(t):"unknown filename",n,r?E(r):"unknown function"])}function Te(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Pe(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Re=e}ye(we)||(we=b(we));var Re=void 0;function ke(e){for(var t="",n=e;O[n];)t+=Re[O[n++]];return t}var Ee={},Ie={},Fe={},Ne=48,xe=57;function We(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Ne&&t<=xe?"_"+e:e}function Oe(e,t){return e=We(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Me(e,t){var n=Oe(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Ue=void 0;function Be(e){throw new Ue(e)}var De=void 0;function Le(e){throw new De(e)}function je(e,t,n){function r(t){var r=n(t);r.length!==e.length&&Le("Mismatched type converter count");for(var o=0;o<e.length;++o)ze(e[o],r[o])}e.forEach((function(e){Fe[e]=t}));var o=new Array(t.length),a=[],i=0;t.forEach((function(e,t){Ie.hasOwnProperty(e)?o[t]=Ie[e]:(a.push(e),Ee.hasOwnProperty(e)||(Ee[e]=[]),Ee[e].push((function(){o[t]=Ie[e],++i===a.length&&r(o)})))})),0===a.length&&r(o)}function ze(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||Be('type "'+r+'" must have a positive integer typeid pointer'),Ie.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;Be("Cannot register type '"+r+"' twice")}if(Ie[e]=t,delete Fe[e],Ee.hasOwnProperty(e)){var o=Ee[e];delete Ee[e],o.forEach((function(e){e()}))}}function Ye(e,t,n,r,o){var a=Te(n);ze(e,{name:t=ke(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:o},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=W;else if(2===n)r=M;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=B}return this.fromWireType(r[e>>a])},destructorFunction:null})}var Ve=[],He=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function qe(e){e>4&&0==--He[e].refcount&&(He[e]=void 0,Ve.push(e))}function $e(){for(var e=0,t=5;t<He.length;++t)void 0!==He[t]&&++e;return e}function Ge(){for(var e=5;e<He.length;++e)if(void 0!==He[e])return He[e];return null}function Ze(){i.count_emval_handles=$e,i.get_first_emval=Ge}function Qe(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Ve.length?Ve.pop():He.length;return He[t]={refcount:1,value:e},t}}function Xe(e){return this.fromWireType(D[e>>2])}function Je(e,t){ze(e,{name:t=ke(t),fromWireType:function(e){var t=He[e].value;return qe(e),t},toWireType:function(e,t){return Qe(t)},argPackAdvance:8,readValueFromPointer:Xe,destructorFunction:null})}function Ke(e){if(null===e)return"null";var t=o(e);return"object"===t||"array"===t||"function"===t?e.toString():""+e}function et(e,t){switch(t){case 2:return function(e){return this.fromWireType(L[e>>2])};case 3:return function(e){return this.fromWireType(j[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function tt(e,t,n){var r=Te(n);ze(e,{name:t=ke(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Ke(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:et(t,r),destructorFunction:null})}function nt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+o(e)+" which is not a function");var n=Oe(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,a=e.apply(r,t);return a instanceof Object?a:r}function rt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function ot(e,t,n,r,o){var a=t.length;a<2&&Be("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==t[1]&&null!==n,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",f="";for(u=0;u<a-2;++u)l+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var h="return function "+We(e)+"("+l+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";s&&(h+="var destructors = [];\n");var d=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[Be,r,o,rt,t[0],t[1]];for(i&&(h+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<a-2;++u)h+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",p.push("argType"+u),m.push(t[u+2]);if(i&&(f="thisWired"+(f.length>0?", ":"")+f),h+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)h+="runDestructors(destructors);\n";else for(u=i?1:2;u<t.length;++u){var y=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(h+=y+"_dtor("+y+"); // "+t[u].name+"\n",p.push(y+"_dtor"),m.push(t[u].destructorFunction))}return c&&(h+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),h+="}\n",p.push(h),nt(Function,p).apply(null,m)}function at(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Be("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function it(e,t,n){i.hasOwnProperty(e)?((void 0===n||void 0!==i[e].overloadTable&&void 0!==i[e].overloadTable[n])&&Be("Cannot register public name '"+e+"' twice"),at(i,e,e),i.hasOwnProperty(n)&&Be("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),i[e].overloadTable[n]=t):(i[e]=t,void 0!==n&&(i[e].numArguments=n))}function st(e,t){for(var n=[],r=0;r<e;r++)n.push(B[(t>>2)+r]);return n}function ut(e,t,n){i.hasOwnProperty(e)||Le("Replacing nonexistant public symbol"),void 0!==i[e].overloadTable&&void 0!==n?i[e].overloadTable[n]=t:(i[e]=t,i[e].argCount=n)}function ct(e,t,n){return n&&n.length?i["dynCall_"+e].apply(null,[t].concat(n)):i["dynCall_"+e].call(null,t)}function lt(e,t,n){return-1!=e.indexOf("j")?ct(e,t,n):X.get(t).apply(null,n)}function ft(e,t){P(e.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var n=[];return function(){n.length=arguments.length;for(var r=0;r<arguments.length;r++)n[r]=arguments[r];return lt(e,t,n)}}function ht(e,t){var n=-1!=(e=ke(e)).indexOf("j")?ft(e,t):X.get(t);return"function"!=typeof n&&Be("unknown function pointer with signature "+e+": "+t),n}var dt=void 0;function pt(e){var t=Mt(e),n=ke(t);return Wt(t),n}function mt(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||Ie[t]||(Fe[t]?Fe[t].forEach(e):(n.push(t),r[t]=!0))})),new dt(e+": "+n.map(pt).join([", "]))}function yt(e,t,n,r,o,a){var i=st(t,n);e=ke(e),o=ht(r,o),it(e,(function(){mt("Cannot call "+e+" due to unbound types",i)}),t-1),je([],i,(function(n){var r=[n[0],null].concat(n.slice(1));return ut(e,ot(e,r,null,o,a),t-1),[]}))}function vt(e,t,n){switch(t){case 0:return n?function(e){return W[e]}:function(e){return O[e]};case 1:return n?function(e){return M[e>>1]}:function(e){return U[e>>1]};case 2:return n?function(e){return B[e>>2]}:function(e){return D[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function gt(e,t,n,r,o){t=ke(t),-1===o&&(o=4294967295);var a=Te(n),i=function(e){return e};if(0===r){var s=32-8*n;i=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");ze(e,{name:t,fromWireType:i,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+Ke(n)+'" to '+this.name);if(n<r||n>o)throw new TypeError('Passing a number "'+Ke(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+o+"]!");return u?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:vt(t,a,0!==r),destructorFunction:null})}function wt(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=D,n=t[e>>=2],o=t[e+1];return new r(x,o,n)}ze(e,{name:n=ke(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function bt(e,t){var n="std::string"===(t=ke(t));ze(e,{name:t,fromWireType:function(e){var t,r=D[e>>2];if(n)for(var o=e+4,a=0;a<=r;++a){var i=e+4+a;if(a==r||0==O[i]){var s=E(o,i-o);void 0===t?t=s:(t+=String.fromCharCode(0),t+=s),o=i+1}}else{var u=new Array(r);for(a=0;a<r;++a)u[a]=String.fromCharCode(O[e+4+a]);t=u.join("")}return Wt(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"==typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Be("Cannot pass non-string to std::string");var o=(n&&r?function(){return N(t)}:function(){return t.length})(),a=Ot(4+o+1);if(D[a>>2]=o,n&&r)F(t,a+4,o+1);else if(r)for(var i=0;i<o;++i){var s=t.charCodeAt(i);s>255&&(Wt(a),Be("String has UTF-16 code units that do not fit in 8 bits")),O[a+4+i]=s}else for(i=0;i<o;++i)O[a+4+i]=t[i];return null!==e&&e.push(Wt,a),a},argPackAdvance:8,readValueFromPointer:Xe,destructorFunction:function(e){Wt(e)}})}function _t(e,t,n){var r,o,a,i,s;n=ke(n),2===t?(r=Y,o=V,i=H,a=function(){return U},s=1):4===t&&(r=q,o=$,i=G,a=function(){return D},s=2),ze(e,{name:n,fromWireType:function(e){for(var n,o=D[e>>2],i=a(),u=e+4,c=0;c<=o;++c){var l=e+4+c*t;if(c==o||0==i[l>>s]){var f=r(u,l-u);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),u=l+t}}return Wt(e),n},toWireType:function(e,r){"string"!=typeof r&&Be("Cannot pass non-string to C++ string type "+n);var a=i(r),u=Ot(4+a+t);return D[u>>2]=a>>s,o(r,u+4,a+t),null!==e&&e.push(Wt,u),u},argPackAdvance:8,readValueFromPointer:Xe,destructorFunction:function(e){Wt(e)}})}function At(e,t){ze(e,{isVoid:!0,name:t=ke(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function St(e){e>4&&(He[e].refcount+=1)}function Ct(e,t){var n=Ie[e];return void 0===n&&Be(t+" has unknown type "+pt(e)),n}function Tt(e,t){return Qe((e=Ct(e,"_emval_take_value")).readValueFromPointer(t))}function Pt(){de()}function Rt(e,t,n){O.copyWithin(e,t,t+n)}function kt(){return O.length}function Et(e){try{return S.grow(e-x.byteLength+65535>>>16),Q(S.buffer),1}catch(e){}}function It(e){e>>>=0;var t=kt(),n=2147483648;if(e>n)return!1;for(var r=1;r<=4;r*=2){var o=t*(1+.2/r);if(o=Math.min(o,e+100663296),Et(Math.min(n,Z(Math.max(16777216,e,o),65536))))return!0}return!1}Pe(),Ue=i.BindingError=Me(Error,"BindingError"),De=i.InternalError=Me(Error,"InternalError"),Ze(),dt=i.UnboundTypeError=Me(Error,"UnboundTypeError"),K.push({func:function(){xt()}});var Ft,Nt={a:Ce,k:Ye,j:Je,h:tt,d:yt,c:gt,b:wt,f:bt,e:_t,l:At,m:qe,n:St,i:Tt,g:Pt,o:Rt,p:It},xt=(Ae(),i.___wasm_call_ctors=function(){return(xt=i.___wasm_call_ctors=i.asm.s).apply(null,arguments)}),Wt=(i._main=function(){return(i._main=i.asm.t).apply(null,arguments)},i._free=function(){return(Wt=i._free=i.asm.u).apply(null,arguments)}),Ot=i._malloc=function(){return(Ot=i._malloc=i.asm.v).apply(null,arguments)},Mt=i.___getTypeName=function(){return(Mt=i.___getTypeName=i.asm.w).apply(null,arguments)};function Ut(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Bt(e){var t=i._main;try{Lt(t(0,0),!0)}catch(e){if(e instanceof Ut)return;if("unwind"==e)return void(A=!0);var n=e;e&&"object"===o(e)&&e.stack&&(n=[e,e.stack]),C("exception thrown: "+n),l(1,e)}}function Dt(e){function n(){Ft||(Ft=!0,i.calledRun=!0,T||(re(),oe(),t(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),jt&&Bt(),ae()))}e=e||c,ue>0||(ne(),ue>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),n()}),1)):n()))}function Lt(e,t){t&&A&&0===e||(A||(i.onExit&&i.onExit(e),T=!0),l(e,new Ut(e)))}if(i.___embind_register_native_and_builtin_types=function(){return(i.___embind_register_native_and_builtin_types=i.asm.x).apply(null,arguments)},le=function e(){Ft||Dt(),Ft||(le=e)},i.run=Dt,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();var jt=!0;return i.noInitialRun&&(jt=!1),A=!0,Dt(),e.ready});"object"===o(t)&&"object"===o(e)?e.exports=i:void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)},498:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConverterType:()=>u,create:()=>c});var r=n(17),o=n.n(r);function a(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null===n?new Float32Array(e):n,o=0;o<e;o++)r[o]=t[o];return r}var i=1008e3,s=function(){function e(t,n,r,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.module=t,this.converterType=n,this.nChannels=r,this.inputSampleRate=o,this.outputSampleRate=a,this.ratio=a/o,this.isDestroyed=!1,t.init(r,n,o,a),this.sourceArray=t.sourceArray(i),this.targetArray=t.targetArray(i)}var t;return(t=[{key:"simple",value:function(e){return this._resample(this.module.simple,e)}},{key:"full",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._resample(this.module.full,e,t)}},{key:"destroy",value:function(){!0===this.isDestroyed?console.warn("destroy() has already been called on this instance"):(this.module.destroy(),this.isDestroyed=!0)}},{key:"_chunkAndResample",value:function(e){for(var t=0,n=[],r=function(e,t,n){for(var r=0,o=[],a=0;a<e.length;a+=t){var i=Math.min(t,e.length-r),s=new n(e.buffer,r*e.BYTES_PER_ELEMENT,i);r+=t,o.push(s)}return o}(e,this.inputSampleRate/10*this.nChannels,Float32Array),o=0;o<r.length;o++){var a=this._resample(this.module.full,r[o]);t+=a.length,n.push(a)}for(var i=new Float32Array(t),s=0,u=0;u<n.length;u++)for(var c=0;c<n[u].length;c++)i[s++]=n[u][c];return i}},{key:"_resample",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.inputSampleRate===this.outputSampleRate)return t;if(null!==n&&n.length<this.ratio*t.length)throw"dataOut must be at least ceil(srcRatio * dataIn.length) samples long";return Math.ceil(t.length*this.ratio)>i?this._chunkAndResample(t):(this.sourceArray.set(t),a(e(t.length,this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)*this.nChannels,this.targetArray,n))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),u={SRC_SINC_BEST_QUALITY:0,SRC_SINC_MEDIUM_QUALITY:1,SRC_SINC_FASTEST:2,SRC_ZERO_ORDER_HOLD:3,SRC_LINEAR:4};function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0===r.converterType?u.SRC_SINC_FASTEST:r.converterType,i=r.wasmPath||"/libsamplerate.wasm";l(e,t,n,a);var c={locateFile:function(){return i}};return new Promise((function(r,i){o()(c).then((function(o){var i=new s(o,a,e,t,n);r(i)})).catch((function(e){i(e)}))}))}function l(e,t,n,r){if(void 0===e)throw"nChannels is undefined";if(void 0===t)throw"inputSampleRate is undefined";if(void 0===n)throw"outputSampleRate is undefined";if(e<1||e>128)throw"invalid nChannels submitted";if(t<1||t>192e3)throw"invalid inputSampleRate";if(n<1||n>192e3)throw"invalid outputSampleRate";if(r<u.SRC_SINC_BEST_QUALITY||r>u.SRC_LINEAR)throw"invalid converterType"}},747:e=>{"use strict";e.exports=n(147)},622:e=>{"use strict";e.exports=n(17)}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n](o,o.exports,r),o.loaded=!0,o.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(498)})()},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{createFeederNode:()=>m});const e={UNINITIALIZED:1,READY:2,PLAYING:3,STARVED:4};Object.freeze(e);class t{feed(e){throw"feed() must be implemented"}connect(e){throw"connect() must be implemented"}disconnect(){throw"disconnect() must be implemented"}setPort(e){}onStateChange(e){}}class o extends t{constructor(t,n,r,o,a){super(),this.batchSize=r,this.nChannels=n,this.bufferThreshold=a,this.audioNode=t.createScriptProcessor(r,0,n),this.audioNode.onaudioprocess=this._playNext.bind(this),this._buffer=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32768,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e<=0)throw"bufferLength must be >= 1";if(t<1)throw"nChannels must >= 1";this._data=new Float32Array(e*t),this._nChannels=t,this._readPos=0,this._writePos=0}get bufferLength(){return this._data.length/this._nChannels}getNReadableSamples(){if(this._readPos==this._writePos)return 0;let e;return e=this._readPos<this._writePos?this._writePos-this._readPos:this._data.length-this._readPos+this._writePos,e/this._nChannels}read(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t?Array.apply(null,Array(this._nChannels)).map((()=>new Float32Array(e))):t,r=Math.min(e,this.getNReadableSamples()),o=this._readPos;for(let e=0;e<r;e++)for(let t=0;t<n.length;t++)o===this._data.length&&(o=0),n[t][e]=this._data[o++];return this._readPos=o,n}_resize(e){let t=this.getNReadableSamples()*this._nChannels,n=new Float32Array(e+t),r=this._readPos;for(let e=0;e<t;e++)n[e]=this._data[r++];this._writePos=t,this._readPos=0,this._data=n}write(e){if(!ArrayBuffer.isView(e))throw`Must submit a TypedArray. Received ${e.constructor.name}`;let t=!1;e.length>this._data.length&&(this._resize(e.length),t=!0);let n=this._writePos;for(let t=0;t<e.length;t++)n===this._data.length&&(n=0),this._data[n++]=e[t];return this._writePos=n,[t,this._data.length/this._nChannels]}}(o,n),this.state=e.READY}get bufferLength(){return this._buffer.bufferLength}feed(e){this._buffer.write(e)}connect(e){this.audioNode.connect(e)}disconnect(){this.audioNode.disconnect()}_updateState(){let t=this.state;switch(this.state){case e.UNINITIALIZED:return;case e.PLAYING:0===this._buffer.getNReadableSamples()&&(this.state=e.STARVED);break;case e.READY:case e.STARVED:this._buffer.getNReadableSamples()>=this.bufferThreshold&&(this.state=e.PLAYING)}t!=this.state&&this.onStateChange(this.state)}_playNext(t){this._updateState();let n=Array.apply(null,Array(this.nChannels)).map(((e,n)=>t.outputBuffer.getChannelData(n)));this.state===e.PLAYING?this._buffer.read(this.batchSize,n):function(e){for(let t=0;t<e.length;t++){let n=e[t];for(let e=0;e<n.length;e++)n[e]=0}}(n)}}class a{constructor(e,t){this.inputSampleRate=e,this.outputSampleRate=t}processBatch(e){throw new Error("processBatch must be overridden!")}onProcessed(e){throw new Error("onProcessed must be overridden!")}setPort(e){}}class i{constructor(e,t,n){this.inputSampleRate=e,this.outputSampleRate=t,this.nChannels=n,this._resampleFractional=0,this._resampleLastSampleData=void 0}resample(e){var t=this.inputSampleRate,n=this.nChannels,r=this.outputSampleRate;if(t==r)return e;var o=e[0].length,a=this._resampleFractional,i=o*r/t+a,c=Math.floor(i),l=i-c;let f=function(e,t,n,r,o,a,i){var c,l=[];c=e<t?s:u;for(var f=0;f<n;f++){var h=f,d=r[h],p=new Float32Array(o);c(d,p,a?a[h]:void 0,i,e,t),l.push(p)}return l}(t,r,n,e,c,this._resampleLastSampleData,a);return this._resampleFractional=l,this._resampleLastSampleData=e,f}}function s(e,t,n,r,o,a){for(var i=function(t){return t<0?n&&n.length+t>0?n[n.length+t]:e[0]:e[t]},s=0;s<t.length;s++){var u,c=(s+1-r)*o/a-1,l=Math.floor(c),f=Math.ceil(c);u=l==f?i(l):i(l)*(f-c)+i(f)*(c-l),t[s]=u}}function u(e,t){for(var n=0;n<t.length;n++)t[n]=e[n*e.length/t.length|0]}class c extends a{constructor(e,t,n){super(t,n),this.nChannels=e,this.inputChannelBuffers=Array.apply(null,Array(e)).map((()=>new Float32Array(192e3))),this._resampler=new i(t,n,e)}processBatch(e){if(this.inputSampleRate===this.outputSampleRate)return this.onProcessed(e);let t=e.length/this.nChannels;t>this.inputChannelBuffers[0].length&&(this.inputChannelBuffers=Array.apply(null,Array(this.nChannels)).map((()=>new Float32Array(t)))),function(e,t){if(e.length>t[0].length*t.length)throw"incorrect channel lengths";for(let n=0;n<t.length;n++){let r=n;for(let o=0;o<t[n].length;o++)t[n][o]=e[r],r+=t.length}}(e,this.inputChannelBuffers);let n=this.inputChannelBuffers.map((e=>new Float32Array(e.buffer,0,t))),r=function(e){let t=e[0].length*e.length,n=new Float32Array(t);return function(e,t){if(t.length<e[0].length*e.length)throw Error("incorrect channel lengths");let n=0;for(let r=0;r<e[0].length;r++)for(let o=0;o<e.length;o++)t[n++]=e[o][r]}(e,n),n}(this._resampler.resample(n));this.onProcessed(r)}}class l extends t{constructor(t,n,r){super(),this.nChannels=t,this.bufferLength=n,this.audioNode=r,this.batchSize=128,this.state=e.READY,r.port.onmessage=this._onMessage.bind(this)}feed(t){this.state===e.UNINITIALIZED?console.warn("tried to call feed() on uninitialized backend"):this.audioNode.port.postMessage({command:"feed",data:t},[t.buffer])}setPort(e){this.audioNode.port.postMessage({command:"connect"},[e])}connect(e){this.audioNode.connect(e)}disconnect(){this.audioNode.disconnect()}_onMessage(e){if("bufferLengthChange"===e.data.command)this.bufferLength=e.data.bufferLength;else{if("stateChange"!==e.data.command)throw`command ${e.data.command} unrecognized`;this.onStateChange(e.data.state)}}}class f extends a{constructor(e,t,n,r,o){super(t,n),this.worker=o,this.worker.onmessage=this._onMessage.bind(this)}processBatch(e){this.worker.postMessage({command:"feed",data:e},[e.buffer])}setPort(e){this.worker.postMessage({command:"connect"},[e])}_onMessage(e){this.onProcessed(e.data)}}class h{constructor(e,t){if("WorkerResampler"===e.constructor.name&&"AudioWorkletBackend"===t.constructor.name){let n=new MessageChannel;e.setPort(n.port1),t.setPort(n.port2)}e.onProcessed=this._onResampleComplete.bind(this),t.onStateChange=this._onBackendStateChange.bind(this),this._resampler=e,this._backend=t}get bufferLength(){return this._backend.bufferLength}get nChannels(){return this._backend.nChannels}get batchSize(){return this._backend.batchSize}get numberOfInputs(){return this._backend.audioNode.numberOfInputs}get numberOfOutputs(){return this._backend.audioNode.numberOfOutputs}get channelCount(){return this._backend.audioNode.channelCount}get channelCountMode(){return this._backend.audioNode.channelCountMode}get channelInterpretation(){return this._backend.audioNode.channelInterpretation}set channelCount(e){this._backend.audioNode.channelCount=e}set channelCountMode(e){this._backend.audioNode.channelCountMode=e}set channelInterpretation(e){this._backend.audioNode.channelInterpretation=e}connect(e){this._backend.connect(e)}disconnect(){this._backend.disconnect()}feed(e){let t;if(!ArrayBuffer.isView(e))throw Error(`FeederNode.feed() must receive an instance of TypedArray. You passed ${e.constructor.name}`);t=function(e){let t=function(e){switch(e.constructor){case Float32Array:return 1;case Int8Array:case Uint8Array:return 127;case Int16Array:case Uint16Array:return 32767;case Int32Array:case Uint32Array:return 2147483647;default:throw`Unsupport data type ${e.constructor}`}}(e),n=new Float32Array(e.length);switch(e.constructor){case Float32Array:return e;case Int8Array:case Int16Array:case Int32Array:for(let r=0;r<e.length;r++)n[r]=e[r]/t;break;case Uint8Array:case Uint16Array:case Uint32Array:for(let r=0;r<e.length;r++)n[r]=(e[r]-t)/t}return n}(e),this._resampler.processBatch(t)}onBackendReady(){}onBackendPlaying(){}onBackendStarved(){}_onResampleComplete(e){this._backend.feed(e)}_onBackendStateChange(t){switch(t){case e.READY:return this.onBackendReady();case e.PLAYING:return this.onBackendPlaying();case e.STARVED:return this.onBackendStarved();default:throw`unknown state ${t}`}}}var d=n(756);const p=[128,256,512,1024,2048,4096,8192,16384];async function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.batchSize||(void 0!==window.AudioWorklet?128:512),o=n.bufferThreshold||4096,a=n.bufferLength||192e3,i=void 0===n.resampConverterType?d.ConverterType.SRC_SINC_FASTEST:n.resampConverterType,s=n.inputSampleRate||e.sampleRate,u=e.sampleRate,c=n.pathToWorklet||"/feeder-node.worklet.js",l=n.pathToWorker||"/feeder-node.worker.js",f=n.pathToWasm||"/libsamplerate.wasm";y(t,r,o,a,i,s);let p=await g(e,t,r,a,o,c),m=await v(t,s,u,i,l,f),w=new h(m,p);return w}function y(e,t,n,r,o,a){if(void 0===e)throw"nChannels is undefined";if(e<1||e>2)throw`invalid nChannels ${e}`;if(!p.includes(t))throw`invalid batchSize ${t}`;if(r<16384)throw"buffer length must be greater than 16384";if(n<0)throw"bufferThreshold cannot be less than 0";if(n>r)throw"bufferThreshold cannot be greater than bufferLength";if(o<0||o>4)throw`invalid converterType ${o}`;if(a<1||a>192e3)throw`invalid inputSampleRate ${a}`}async function v(e,t,n,r,o,a){return void 0!==window.WebAssembly?await function(e,t,n,r,o,a){return new Promise((i=>{let s=new Worker(o);s.onmessage=()=>{i(new f(e,t,n,r,s))},s.postMessage({command:"init",inputSampleRate:t,outputSampleRate:n,nChannels:e,converterType:r,pathToWasm:a})}))}(e,t,n,r,o,a):new c(e,t,n)}async function g(e,t,n,r,a,i){return void 0!==window.AudioWorklet?await function(e,t,n,r,o){let a=t;class i extends AudioWorkletNode{constructor(e){super(e,"FeederNode",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[a]})}}return new Promise((a=>{e.audioWorklet.addModule(o).then((()=>{let o=new i(e);o.port.postMessage({command:"init",nChannels:t,bufferLength:n,bufferThreshold:r});let s=new l(t,n,o);a(s)}))}))}(e,t,r,a,i):new o(e,t,n,r,a)}})(),r})()));