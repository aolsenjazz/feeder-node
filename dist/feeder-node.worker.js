(()=>{var t={756:t=>{self,t.exports=(()=>{var t={17:(t,r,n)=>{var e;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t=n.nmd(t);var i,a=(i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var r,n,e=void 0!==(t=t||{})?t:{};e.ready=new Promise((function(t,e){r=t,n=e}));var a,u={};for(a in e)e.hasOwnProperty(a)&&(u[a]=e[a]);var c=[],f=function(t,r){throw r},s="";"undefined"!=typeof document&&document.currentScript&&(s=document.currentScript.src),i&&(s=i),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",e.print||console.log.bind(console);var l,h,p,d=e.printErr||console.warn.bind(console);for(a in u)u.hasOwnProperty(a)&&(e[a]=u[a]);u=null,e.arguments&&(c=e.arguments),e.thisProgram&&e.thisProgram,e.quit&&(f=e.quit),e.wasmBinary&&(l=e.wasmBinary),e.noExitRuntime&&(h=e.noExitRuntime),"object"!==("undefined"==typeof WebAssembly?"undefined":o(WebAssembly))&&V("no native wasm support detected");var v=!1,y="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function m(t,r){return t?function(t,r,n){for(var e=r+n,o=r;t[o]&&!(o>=e);)++o;if(o-r>16&&t.subarray&&y)return y.decode(t.subarray(r,o));for(var i="";r<o;){var a=t[r++];if(128&a){var u=63&t[r++];if(192!=(224&a)){var c=63&t[r++];if((a=224==(240&a)?(15&a)<<12|u<<6|c:(7&a)<<18|u<<12|c<<6|63&t[r++])<65536)i+=String.fromCharCode(a);else{var f=a-65536;i+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}(b,t,r):""}var g,w,b,_,A,T,E,S,x,C="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function k(t,r){for(var n=t,e=n>>1,o=e+r/2;!(e>=o)&&A[e];)++e;if((n=e<<1)-t>32&&C)return C.decode(b.subarray(t,n));for(var i="",a=0;!(a>=r/2);++a){var u=_[t+2*a>>1];if(0==u)break;i+=String.fromCharCode(u)}return i}function P(t,r,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var e=r,o=(n-=2)<2*t.length?n/2:t.length,i=0;i<o;++i){var a=t.charCodeAt(i);_[r>>1]=a,r+=2}return _[r>>1]=0,r-e}function R(t){return 2*t.length}function O(t,r){for(var n=0,e="";!(n>=r/4);){var o=T[t+4*n>>2];if(0==o)break;if(++n,o>=65536){var i=o-65536;e+=String.fromCharCode(55296|i>>10,56320|1023&i)}else e+=String.fromCharCode(o)}return e}function F(t,r,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var e=r,o=e+n-4,i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),T[r>>2]=a,(r+=4)+4>o)break}return T[r>>2]=0,r-e}function I(t){for(var r=0,n=0;n<t.length;++n){var e=t.charCodeAt(n);e>=55296&&e<=57343&&++n,r+=4}return r}function W(t){g=t,e.HEAP8=w=new Int8Array(t),e.HEAP16=_=new Int16Array(t),e.HEAP32=T=new Int32Array(t),e.HEAPU8=b=new Uint8Array(t),e.HEAPU16=A=new Uint16Array(t),e.HEAPU32=E=new Uint32Array(t),e.HEAPF32=S=new Float32Array(t),e.HEAPF64=x=new Float64Array(t)}e.INITIAL_MEMORY;var L,j=[],U=[],N=[],M=[],D=0,B=null,H=null;function V(t){e.onAbort&&e.onAbort(t),d(t+=""),v=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(t);throw n(r),r}function G(t){return r=t,n="data:application/octet-stream;base64,",String.prototype.startsWith?r.startsWith(n):0===r.indexOf(n);var r,n}e.preloadedImages={},e.preloadedAudios={};var z,Y="glue.wasm";function q(t){try{if(t==Y&&l)return new Uint8Array(l);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function Q(t){for(;t.length>0;){var r=t.shift();if("function"!=typeof r){var n=r.func;"number"==typeof n?void 0===r.arg?L.get(n)():L.get(n)(r.arg):n(void 0===r.arg?null:r.arg)}else r(e)}}function Z(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}G(Y)||(z=Y,Y=e.locateFile?e.locateFile(z,s):s+z);var J=void 0;function $(t){for(var r="",n=t;b[n];)r+=J[b[n++]];return r}var K={},X={},tt={};function rt(t){if(void 0===t)return"_unknown";var r=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=48&&r<=57?"_"+t:t}function nt(t,r){return t=rt(t),new Function("body","return function "+t+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function et(t,r){var n=nt(r,(function(t){this.name=r,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var ot=void 0;function it(t){throw new ot(t)}var at=void 0;function ut(t){throw new at(t)}function ct(t,r,n){if(n=n||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var e=r.name;if(t||it('type "'+e+'" must have a positive integer typeid pointer'),X.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;it("Cannot register type '"+e+"' twice")}if(X[t]=r,delete tt[t],K.hasOwnProperty(t)){var o=K[t];delete K[t],o.forEach((function(t){t()}))}}var ft=[],st=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function lt(t){t>4&&0==--st[t].refcount&&(st[t]=void 0,ft.push(t))}function ht(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=ft.length?ft.pop():st.length;return st[r]={refcount:1,value:t},r}}function pt(t){return this.fromWireType(E[t>>2])}function dt(t){if(null===t)return"null";var r=o(t);return"object"===r||"array"===r||"function"===r?t.toString():""+t}function vt(t,r){switch(r){case 2:return function(t){return this.fromWireType(S[t>>2])};case 3:return function(t){return this.fromWireType(x[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function yt(t){for(;t.length;){var r=t.pop();t.pop()(r)}}function mt(t,r,n){return-1!=t.indexOf("j")?function(t,r,n){return n&&n.length?e["dynCall_"+t].apply(null,[r].concat(n)):e["dynCall_"+t].call(null,r)}(t,r,n):L.get(r).apply(null,n)}var gt=void 0;function wt(t){var r=Ct(t),n=$(r);return St(r),n}function bt(t,r,n){switch(r){case 0:return n?function(t){return w[t]}:function(t){return b[t]};case 1:return n?function(t){return _[t>>1]}:function(t){return A[t>>1]};case 2:return n?function(t){return T[t>>2]}:function(t){return E[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function _t(t){try{return p.grow(t-g.byteLength+65535>>>16),W(p.buffer),1}catch(t){}}!function(){for(var t=new Array(256),r=0;r<256;++r)t[r]=String.fromCharCode(r);J=t}(),ot=e.BindingError=et(Error,"BindingError"),at=e.InternalError=et(Error,"InternalError"),e.count_emval_handles=function(){for(var t=0,r=5;r<st.length;++r)void 0!==st[r]&&++t;return t},e.get_first_emval=function(){for(var t=5;t<st.length;++t)if(void 0!==st[t])return st[t];return null},gt=e.UnboundTypeError=et(Error,"UnboundTypeError"),U.push({func:function(){Et()}});var At,Tt={a:function(t,r,n,e){V("Assertion failed: "+m(t)+", at: "+[r?m(r):"unknown filename",n,e?m(e):"unknown function"])},k:function(t,r,n,e,o){var i=Z(n);ct(t,{name:r=$(r),fromWireType:function(t){return!!t},toWireType:function(t,r){return r?e:o},argPackAdvance:8,readValueFromPointer:function(t){var e;if(1===n)e=w;else if(2===n)e=_;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+r);e=T}return this.fromWireType(e[t>>i])},destructorFunction:null})},j:function(t,r){ct(t,{name:r=$(r),fromWireType:function(t){var r=st[t].value;return lt(t),r},toWireType:function(t,r){return ht(r)},argPackAdvance:8,readValueFromPointer:pt,destructorFunction:null})},h:function(t,r,n){var e=Z(n);ct(t,{name:r=$(r),fromWireType:function(t){return t},toWireType:function(t,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+dt(r)+'" to '+this.name);return r},argPackAdvance:8,readValueFromPointer:vt(r,e),destructorFunction:null})},d:function(t,r,n,i,a,u){var c=function(t,r){for(var n=[],e=0;e<t;e++)n.push(T[(r>>2)+e]);return n}(r,n);t=$(t),a=function(t,r){var n=-1!=(t=$(t)).indexOf("j")?function(t,r){t.indexOf("j")>=0||V("Assertion failed: getDynCaller should only be called with i64 sigs");var n=[];return function(){n.length=arguments.length;for(var e=0;e<arguments.length;e++)n[e]=arguments[e];return mt(t,r,n)}}(t,r):L.get(r);return"function"!=typeof n&&it("unknown function pointer with signature "+t+": "+r),n}(i,a),function(t,r,n){e.hasOwnProperty(t)?((void 0===n||void 0!==e[t].overloadTable&&void 0!==e[t].overloadTable[n])&&it("Cannot register public name '"+t+"' twice"),function(t,r,n){if(void 0===t[r].overloadTable){var e=t[r];t[r]=function(){return t[r].overloadTable.hasOwnProperty(arguments.length)||it("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[r].overloadTable+")!"),t[r].overloadTable[arguments.length].apply(this,arguments)},t[r].overloadTable=[],t[r].overloadTable[e.argCount]=e}}(e,t,t),e.hasOwnProperty(n)&&it("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),e[t].overloadTable[n]=r):(e[t]=r,void 0!==n&&(e[t].numArguments=n))}(t,(function(){!function(t,r){var n=[],e={};throw r.forEach((function t(r){e[r]||X[r]||(tt[r]?tt[r].forEach(t):(n.push(r),e[r]=!0))})),new gt(t+": "+n.map(wt).join([", "]))}("Cannot call "+t+" due to unbound types",c)}),r-1),function(n,i,c){function f(i){var c=function(n){var i=[n[0],null].concat(n.slice(1));return function(t,r,n){e.hasOwnProperty(t)||ut("Replacing nonexistant public symbol"),void 0!==e[t].overloadTable&&void 0!==n?e[t].overloadTable[n]=r:(e[t]=r,e[t].argCount=n)}(t,function(t,r,n,e,i){var a=r.length;a<2&&it("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var u=null!==r[1]&&!1,c=!1,f=1;f<r.length;++f)if(null!==r[f]&&void 0===r[f].destructorFunction){c=!0;break}var s="void"!==r[0].name,l="",h="";for(f=0;f<a-2;++f)l+=(0!==f?", ":"")+"arg"+f,h+=(0!==f?", ":"")+"arg"+f+"Wired";var p="return function "+rt(t)+"("+l+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";c&&(p+="var destructors = [];\n");var d=c?"destructors":"null",v=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],y=[it,e,i,yt,r[0],r[1]];for(u&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),f=0;f<a-2;++f)p+="var arg"+f+"Wired = argType"+f+".toWireType("+d+", arg"+f+"); // "+r[f+2].name+"\n",v.push("argType"+f),y.push(r[f+2]);if(u&&(h="thisWired"+(h.length>0?", ":"")+h),p+=(s?"var rv = ":"")+"invoker(fn"+(h.length>0?", ":"")+h+");\n",c)p+="runDestructors(destructors);\n";else for(f=u?1:2;f<r.length;++f){var m=1===f?"thisWired":"arg"+(f-2)+"Wired";null!==r[f].destructorFunction&&(p+=m+"_dtor("+m+"); // "+r[f].name+"\n",v.push(m+"_dtor"),y.push(r[f].destructorFunction))}return s&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",v.push(p),function(t,r){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+o(t)+" which is not a function");var n=nt(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var e=new n,i=t.apply(e,r);return i instanceof Object?i:e}(Function,v).apply(null,y)}(t,i,0,a,u),r-1),[]}(i);c.length!==n.length&&ut("Mismatched type converter count");for(var f=0;f<n.length;++f)ct(n[f],c[f])}n.forEach((function(t){tt[t]=i}));var s=new Array(i.length),l=[],h=0;i.forEach((function(t,r){X.hasOwnProperty(t)?s[r]=X[t]:(l.push(t),K.hasOwnProperty(t)||(K[t]=[]),K[t].push((function(){s[r]=X[t],++h===l.length&&f(s)})))})),0===l.length&&f(s)}([],c)},c:function(t,r,n,e,o){r=$(r),-1===o&&(o=4294967295);var i=Z(n),a=function(t){return t};if(0===e){var u=32-8*n;a=function(t){return t<<u>>>u}}var c=-1!=r.indexOf("unsigned");ct(t,{name:r,fromWireType:a,toWireType:function(t,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+dt(n)+'" to '+this.name);if(n<e||n>o)throw new TypeError('Passing a number "'+dt(n)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+e+", "+o+"]!");return c?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:bt(r,i,0!==e),destructorFunction:null})},b:function(t,r,n){var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function o(t){var r=E,n=r[t>>=2],o=r[t+1];return new e(g,o,n)}ct(t,{name:n=$(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},f:function(t,r){var n="std::string"===(r=$(r));ct(t,{name:r,fromWireType:function(t){var r,e=E[t>>2];if(n)for(var o=t+4,i=0;i<=e;++i){var a=t+4+i;if(i==e||0==b[a]){var u=m(o,a-o);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),o=a+1}}else{var c=new Array(e);for(i=0;i<e;++i)c[i]=String.fromCharCode(b[t+4+i]);r=c.join("")}return St(t),r},toWireType:function(t,r){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var e="string"==typeof r;e||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||it("Cannot pass non-string to std::string");var o=(n&&e?function(){return function(t){for(var r=0,n=0;n<t.length;++n){var e=t.charCodeAt(n);e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&t.charCodeAt(++n)),e<=127?++r:r+=e<=2047?2:e<=65535?3:4}return r}(r)}:function(){return r.length})(),i=xt(4+o+1);if(E[i>>2]=o,n&&e)!function(t,r,n,e){if(!(e>0))return 0;for(var o=n+e-1,i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),a<=127){if(n>=o)break;r[n++]=a}else if(a<=2047){if(n+1>=o)break;r[n++]=192|a>>6,r[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;r[n++]=224|a>>12,r[n++]=128|a>>6&63,r[n++]=128|63&a}else{if(n+3>=o)break;r[n++]=240|a>>18,r[n++]=128|a>>12&63,r[n++]=128|a>>6&63,r[n++]=128|63&a}}r[n]=0}(r,b,i+4,o+1);else if(e)for(var a=0;a<o;++a){var u=r.charCodeAt(a);u>255&&(St(i),it("String has UTF-16 code units that do not fit in 8 bits")),b[i+4+a]=u}else for(a=0;a<o;++a)b[i+4+a]=r[a];return null!==t&&t.push(St,i),i},argPackAdvance:8,readValueFromPointer:pt,destructorFunction:function(t){St(t)}})},e:function(t,r,n){var e,o,i,a,u;n=$(n),2===r?(e=k,o=P,a=R,i=function(){return A},u=1):4===r&&(e=O,o=F,a=I,i=function(){return E},u=2),ct(t,{name:n,fromWireType:function(t){for(var n,o=E[t>>2],a=i(),c=t+4,f=0;f<=o;++f){var s=t+4+f*r;if(f==o||0==a[s>>u]){var l=e(c,s-c);void 0===n?n=l:(n+=String.fromCharCode(0),n+=l),c=s+r}}return St(t),n},toWireType:function(t,e){"string"!=typeof e&&it("Cannot pass non-string to C++ string type "+n);var i=a(e),c=xt(4+i+r);return E[c>>2]=i>>u,o(e,c+4,i+r),null!==t&&t.push(St,c),c},argPackAdvance:8,readValueFromPointer:pt,destructorFunction:function(t){St(t)}})},l:function(t,r){ct(t,{isVoid:!0,name:r=$(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,r){}})},m:lt,n:function(t){t>4&&(st[t].refcount+=1)},i:function(t,r){var n,e;return void 0===(e=X[n=t])&&it("_emval_take_value has unknown type "+wt(n)),ht((t=e).readValueFromPointer(r))},g:function(){V()},o:function(t,r,n){b.copyWithin(t,r,r+n)},p:function(t){t>>>=0;var r=b.length,n=2147483648;if(t>n)return!1;for(var e,o=1;o<=4;o*=2){var i=r*(1+.2/o);if(i=Math.min(i,t+100663296),_t(Math.min(n,((e=Math.max(16777216,t,i))%65536>0&&(e+=65536-e%65536),e))))return!0}return!1}},Et=(function(){var t={a:Tt};function r(t,r){var n=t.exports;e.asm=n,W((p=e.asm.q).buffer),L=e.asm.r,function(t){if(D--,e.monitorRunDependencies&&e.monitorRunDependencies(D),0==D&&(null!==B&&(clearInterval(B),B=null),H)){var r=H;H=null,r()}}()}function o(t){r(t.instance)}function i(r){return(l||"function"!=typeof fetch?Promise.resolve().then((function(){return q(Y)})):fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+Y+"'";return t.arrayBuffer()})).catch((function(){return q(Y)}))).then((function(r){return WebAssembly.instantiate(r,t)})).then(r,(function(t){d("failed to asynchronously prepare wasm: "+t),V(t)}))}if(D++,e.monitorRunDependencies&&e.monitorRunDependencies(D),e.instantiateWasm)try{return e.instantiateWasm(t,r)}catch(t){return d("Module.instantiateWasm callback failed with error: "+t),!1}(l||"function"!=typeof WebAssembly.instantiateStreaming||G(Y)||"function"!=typeof fetch?i(o):fetch(Y,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,t).then(o,(function(t){return d("wasm streaming compile failed: "+t),d("falling back to ArrayBuffer instantiation"),i(o)}))}))).catch(n)}(),e.___wasm_call_ctors=function(){return(Et=e.___wasm_call_ctors=e.asm.s).apply(null,arguments)}),St=(e._main=function(){return(e._main=e.asm.t).apply(null,arguments)},e._free=function(){return(St=e._free=e.asm.u).apply(null,arguments)}),xt=e._malloc=function(){return(xt=e._malloc=e.asm.v).apply(null,arguments)},Ct=e.___getTypeName=function(){return(Ct=e.___getTypeName=e.asm.w).apply(null,arguments)};function kt(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Pt(t){function n(){At||(At=!0,e.calledRun=!0,v||(Q(U),Q(N),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Rt&&function(t){var r,n=e._main;try{r=n(0,0),h&&0===r||(h||(e.onExit&&e.onExit(r),v=!0),f(r,new kt(r)))}catch(t){if(t instanceof kt)return;if("unwind"==t)return void(h=!0);var i=t;t&&"object"===o(t)&&t.stack&&(i=[t,t.stack]),d("exception thrown: "+i),f(1,t)}}(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)t=e.postRun.shift(),M.unshift(t);var t;Q(M)}()))}t=t||c,D>0||(function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)t=e.preRun.shift(),j.unshift(t);var t;Q(j)}(),D>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n()))}if(e.___embind_register_native_and_builtin_types=function(){return(e.___embind_register_native_and_builtin_types=e.asm.x).apply(null,arguments)},H=function t(){At||Pt(),At||(H=t)},e.run=Pt,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();var Rt=!0;return e.noInitialRun&&(Rt=!1),h=!0,Pt(),t.ready});"object"===o(r)&&"object"===o(t)?t.exports=a:void 0===(e=function(){return a}.apply(r,[]))||(t.exports=e)},498:(t,r,n)=>{"use strict";n.r(r),n.d(r,{ConverterType:()=>c,create:()=>f});var e=n(17),o=n.n(e);function i(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=null===n?new Float32Array(t):n,o=0;o<t;o++)e[o]=r[o];return e}var a=1008e3,u=function(){function t(r,n,e,o,i){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.module=r,this.converterType=n,this.nChannels=e,this.inputSampleRate=o,this.outputSampleRate=i,this.ratio=i/o,this.isDestroyed=!1,r.init(e,n,o,i),this.sourceArray=r.sourceArray(a),this.targetArray=r.targetArray(a)}var r;return(r=[{key:"simple",value:function(t){return this._resample(this.module.simple,t)}},{key:"full",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._resample(this.module.full,t,r)}},{key:"destroy",value:function(){!0===this.isDestroyed?console.warn("destroy() has already been called on this instance"):(this.module.destroy(),this.isDestroyed=!0)}},{key:"_chunkAndResample",value:function(t){for(var r=0,n=[],e=function(t,r,n){for(var e=0,o=[],i=0;i<t.length;i+=r){var a=Math.min(r,t.length-e),u=new n(t.buffer,e*t.BYTES_PER_ELEMENT,a);e+=r,o.push(u)}return o}(t,this.inputSampleRate/10*this.nChannels,Float32Array),o=0;o<e.length;o++){var i=this._resample(this.module.full,e[o]);r+=i.length,n.push(i)}for(var a=new Float32Array(r),u=0,c=0;c<n.length;c++)for(var f=0;f<n[c].length;f++)a[u++]=n[c][f];return a}},{key:"_resample",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.inputSampleRate===this.outputSampleRate)return r;if(null!==n&&n.length<this.ratio*r.length)throw"dataOut must be at least ceil(srcRatio * dataIn.length) samples long";return Math.ceil(r.length*this.ratio)>a?this._chunkAndResample(r):(this.sourceArray.set(r),i(t(r.length,this.nChannels,this.converterType,this.inputSampleRate,this.outputSampleRate)*this.nChannels,this.targetArray,n))}}])&&function(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(t.prototype,r),t}(),c={SRC_SINC_BEST_QUALITY:0,SRC_SINC_MEDIUM_QUALITY:1,SRC_SINC_FASTEST:2,SRC_ZERO_ORDER_HOLD:3,SRC_LINEAR:4};function f(t,r,n){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0===e.converterType?c.SRC_SINC_FASTEST:e.converterType,a=e.wasmPath||"/libsamplerate.wasm";if(void 0===t)throw"nChannels is undefined";if(void 0===r)throw"inputSampleRate is undefined";if(void 0===n)throw"outputSampleRate is undefined";if(t<1||t>128)throw"invalid nChannels submitted";if(r<1||r>192e3)throw"invalid inputSampleRate";if(n<1||n>192e3)throw"invalid outputSampleRate";if(i<c.SRC_SINC_BEST_QUALITY||i>c.SRC_LINEAR)throw"invalid converterType";var f={locateFile:function(t){return a}};return new Promise((function(e,a){o()(f).then((function(o){var a=new u(o,i,t,r,n);e(a)})).catch((function(t){a(t)}))}))}}},r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={id:e,loaded:!1,exports:{}};return t[e](o,o.exports,n),o.loaded=!0,o.exports}return n.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return n.d(r,{a:r}),r},n.d=(t,r)=>{for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},n.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n(498)})()},926:t=>{function r(t,r,n,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?r(c):Promise.resolve(c).then(e,o)}t.exports=function(t){return function(){var n=this,e=arguments;return new Promise((function(o,i){var a=t.apply(n,e);function u(t){r(a,o,i,u,c,"next",t)}function c(t){r(a,o,i,u,c,"throw",t)}u(void 0)}))}}},553:t=>{var r=function(t){"use strict";var r,n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,r,n){return Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{c({},"")}catch(t){c=function(t,r,n){return t[r]=n}}function f(t,r,n,e){var o=r&&r.prototype instanceof y?r:y,i=Object.create(o.prototype),a=new k(e||[]);return i._invoke=function(t,r,n){var e=l;return function(o,i){if(e===p)throw new Error("Generator is already running");if(e===d){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(e===l)throw e=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);e=p;var c=s(t,r,n);if("normal"===c.type){if(e=n.done?d:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(e=d,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function s(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var l="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function y(){}function m(){}function g(){}var w={};w[i]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(P([])));_&&_!==n&&e.call(_,i)&&(w=_);var A=g.prototype=y.prototype=Object.create(w);function T(t){["next","throw","return"].forEach((function(r){c(t,r,(function(t){return this._invoke(r,t)}))}))}function E(t,r){function n(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):r.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function S(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=s(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function C(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(e.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=r,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:r,done:!0}}return m.prototype=A.constructor=g,g.constructor=m,m.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===m||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},T(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(r,n,e,o,i){void 0===i&&(i=Promise);var a=new E(f(r,n,e,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(A),c(A,u,"Generator"),A[i]=function(){return this},A.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var n in t)r.push(n);return r.reverse(),function n(){for(;r.length;){var e=r.pop();if(e in t)return n.value=e,n.done=!1,n}return n.done=!0,n}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(e,o){return u.type="throw",u.arg=t,n.next=e,o&&(n.method="next",n.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=e.call(a,"catchLoc"),f=e.call(a,"finallyLoc");if(c&&f){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var e=n.completion;if("throw"===e.type){var o=e.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:P(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),v}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},757:(t,r,n)=>{t.exports=n(553)}},r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return n.d(r,{a:r}),r},n.d=(t,r)=>{for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},n.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),(()=>{"use strict";var t,r=n(757),e=n.n(r),o=n(926),i=n.n(o),a=n(756),u=void 0;function c(t,r,n,e,o){return f.apply(this,arguments)}function f(){return(f=i()(e().mark((function r(n,o,i,u,c){return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,a.create)(o,i,u,{converterType:n,wasmPath:c});case 2:t=r.sent;case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}self.onmessage=function(){var r=i()(e().mark((function r(n){var o,i,a,f,s;return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("feed"!=n.data.command){r.next=4;break}e=n.data.data,l=void 0,h=void 0,l=new Float32Array(e),h=t.full(l),null==u?postMessage(h,[h.buffer]):u.postMessage({command:"feed",data:h},[h.buffer]),r.next=20;break;case 4:if("connect"!==n.data.command){r.next=8;break}u=n.ports[0],r.next=20;break;case 8:if("init"!==n.data.command){r.next=19;break}return o=n.data.converterType,i=n.data.nChannels,a=n.data.inputSampleRate,f=n.data.outputSampleRate,s=n.data.pathToWasm,r.next=16,c(o,i,a,f,s);case 16:postMessage({command:"postInit"}),r.next=20;break;case 19:throw"received unrecognized command";case 20:case"end":return r.stop()}var e,l,h}),r)})));return function(t){return r.apply(this,arguments)}}()})()})();